(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{1065:function(e,t,a){e.exports=a.p+"static/media/team-1-800x800.53033970.jpg"},1066:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(38),l=a.n(o),s=a(1135),c=a(1139),i=a(517),u=a(1136),m=(a(534),a(535),a(536),a(28)),d=a(27),p=a(30),g=a(29),h=a(31),f=a(1094),E=a(47),v=a.n(E),b=a(68),y=a(14),S=a.n(y),k=a(172),N=a.n(k),C=(a(233),a(307)),w=a(1121),x=a(1106),_=a(1107),O=a(1116),T=a(1117),I=a(513),A=a(1123),j=a(1141),D=a(1112),U=a(1111),L=a(1113),z=a(1114),M=a(22),P=function(e){function t(){var e;return Object(m.a)(this,t),(e=Object(p.a)(this,Object(g.a)(t).call(this))).logout=function(){localStorage.removeItem("username"),localStorage.removeItem("token"),e.props.history.push("/auth/login")},e.state={users:[],search:"",chatrooms:[],value:""},e.createLinks=function(e){return e.map(function(e,t){if("Profile"==e.name)return r.a.createElement("div",null);console.log("hi")})},e.search=function(t){e.setState({search:t.target.value}),console.log("changing")},e}return Object(h.a)(t,e),Object(d.a)(t,[{key:"componentDidMount",value:function(){var e=Object(b.a)(v.a.mark(function e(){var t=this;return v.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getusers();case 2:M.database().ref("chatrooms").once("value",function(e){t.setState({chatrooms:e.val()}),console.log(t.state.chatrooms)});case 3:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"componentDidUpdate",value:function(){var e=Object(b.a)(v.a.mark(function e(){return v.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getusers();case 2:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"getusers",value:function(){var e=Object(b.a)(v.a.mark(function e(){var t=this;return v.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(void 0!=localStorage.getItem("users")){e.next=5;break}return e.next=3,S.a.get("/api/users",{headers:{Authorization:localStorage.getItem("token")}}).then(function(e){200===e.status?(console.log("USES SSSSS",e),t.setState({users:e.data.users}),localStorage.setItem("users",JSON.stringify(e.data.users))):console.log("broke")}).catch(function(e){throw console.log(e),e});case 3:e.next=6;break;case 5:this.state.users.length<1&&this.setState({users:JSON.parse(localStorage.getItem("users"))});case 6:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;return r.a.createElement(r.a.Fragment,null,r.a.createElement(w.a,{className:"navbar-top navbar-dark",expand:"md",id:"navbar-main"},r.a.createElement(f.a,{fluid:!0},r.a.createElement(C.a,{className:"h4 mb-0 text-white text-uppercase d-none d-lg-inline-block",to:"/"},this.props.brandText),r.a.createElement(x.a,{className:"navbar-search navbar-search-dark form-inline mr-3 d-none d-md-flex ml-lg-auto"},r.a.createElement(_.a,{className:"mb-0"},r.a.createElement(O.a,{className:"input-group-alternative"},r.a.createElement(T.a,{addonType:"prepend"},r.a.createElement(I.a,null,r.a.createElement("i",{className:"fas fa-search"}))),r.a.createElement(N.a,{items:this.state.users,getItemValue:function(e){return e.name},shouldItemRender:function(t,a){return t.name.toLowerCase().indexOf(e.state.search.toLowerCase())>-1},inputProps:{style:{height:"32px",borderRadius:"25px"},placeholder:"    Search For Users"},renderItem:function(e,t){return r.a.createElement("ul",{key:e._id,style:{listStyleType:"none",backgroundColor:t?"#039FEE":"white"}},r.a.createElement("a",{href:"/admin/profile/"+e._id},r.a.createElement("li",{style:{fontSize:"15px",color:t?"white":void 0}},e.name)))},value:this.state.search,placeholder:"Search users..",onChange:function(t){return e.setState({search:t.target.value})}})))),r.a.createElement(A.a,{className:"align-it`ems-center d-none d-md-flex",navbar:!0},"Guest"!==this.props.name&&r.a.createElement(j.a,{nav:!0},r.a.createElement(D.a,{className:"pr-0",nav:!0},r.a.createElement(U.a,{className:"align-items-center"},r.a.createElement("span",{className:"avatar avatar-sm rounded-circle"},r.a.createElement("img",{alt:"...",src:"https://ui-avatars.com/api/?background=0D8ABC&color=fff&bold=true&name=".concat(this.props.name)})),r.a.createElement(U.a,{className:"ml-2 d-none d-lg-block"},r.a.createElement("span",{className:"mb-0 text-sm font-weight-bold"},this.props.name)))),r.a.createElement(L.a,{className:"dropdown-menu-arrow",right:!0},r.a.createElement(z.a,{className:"noti-title",header:!0,tag:"div"},r.a.createElement("h6",{className:"text-overflow m-0"},"Welcome!")),r.a.createElement(z.a,{to:"/admin/user-profile",tag:C.a},r.a.createElement("i",{className:"ni ni-single-02"}),r.a.createElement("span",null,"My profile")),r.a.createElement(z.a,{to:"/admin/user-profile",tag:C.a},r.a.createElement("i",{className:"ni ni-support-16"}),r.a.createElement("span",null,"Support")),r.a.createElement(z.a,{divider:!0}),r.a.createElement(z.a,{onClick:this.logout},r.a.createElement("i",{className:"ni ni-user-run"}),r.a.createElement("span",null,"Logout"))))))))}}]),t}(r.a.Component),R=a(1100),F=a(1101),B=function(e){function t(){return Object(m.a)(this,t),Object(p.a)(this,Object(g.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){return r.a.createElement("footer",{className:"footer"},r.a.createElement(R.a,{className:"align-items-center justify-content-xl-between"},r.a.createElement(F.a,{xl:"6"},r.a.createElement("div",{className:"copyright text-center text-xl-left text-muted"},"\xa9 2019"," ",r.a.createElement("a",{className:"font-weight-bold ml-1",href:"https://www.cloudmates.ca",rel:"noopener noreferrer",target:"_blank"},"CloudMates")))))}}]),t}(r.a.Component),G=a(88),H=a(1120),W=a(81),J=a(1118),K=a(1119),Y=a(1122),q=a(1124),V=a(1098),X=function(e){function t(e){var a;return Object(m.a)(this,t),(a=Object(p.a)(this,Object(g.a)(t).call(this,e))).state={collapseOpen:!1,notifications:[],email:"",newNot:!1,users:[],search:"",length:localStorage.getItem("notsCount"),name:localStorage.getItem("username"),groupsToggle:!1,chatrooms:[],currentGroup:0,currentGroupName:""},a.toggleCollapse=function(){a.setState({collapseOpen:!a.state.collapseOpen})},a.closeCollapse=function(){a.setState({collapseOpen:!1})},a.createLinks=function(e){return e.map(function(e,t){return"Profile"==e.name||"CHAT ROOM"==e.name?r.a.createElement("div",null):r.a.createElement(J.a,{key:t},r.a.createElement(K.a,{to:e.layout+e.path,tag:H.a,onClick:a.closeCollapse,activeClassName:"active"},r.a.createElement("i",{className:e.icon}),e.name,"Notifications"==e.name&&a.state.newNot&&r.a.createElement("small",{style:{color:"red",paddingLeft:"1%"}},"  ("+a.state.length+")  ")))})},a.search=function(e){a.setState({search:e.target.value}),console.log("changing")},localStorage.getItem("chatToggle")?(console.log("chat toggle exists"),a.setState({groupsToggle:!localStorage.getItem("chatToggle")}),console.log("groupToggle: ",a.state.groupsToggle)):(console.log("chat toggle not found"),localStorage.setItem("chatToggle",!1)),a.activeRoute.bind(Object(G.a)(Object(G.a)(a))),a.search.bind(Object(G.a)(Object(G.a)(a))),setInterval(function(){a.checkForNewNots()},6e4),a}return Object(h.a)(t,e),Object(d.a)(t,[{key:"componentWillMount",value:function(){var e=this,t=localStorage.getItem("username");S.a.get("/api/users?name=".concat(t),{headers:{Authorization:localStorage.getItem("token")}}).then(function(t){if(200===t.status){var a=t.data.users[0];e.setState({current_user:a}),console.log(e.state.current_user);var n=e.state.current_user._id;console.log(n),M.database().ref("users").once("value",function(t){if(t.child(n).exists()){e.setState({currentUser:t.child(n).val()}),console.log(e.state.currentUser);var a=[],r=e;M.database().ref("chatrooms").once("value",function(t){e.setState({currentGroupName:t.val()[1].name,currentGroup:t.val()[1].id}),console.log(t.val()[1].id),t.forEach(function(e){e.val().members&&Object.keys(e.val().members).forEach(function(t){t===n&&(console.log("found"),a.push(e.val()),r.setState({chatrooms:a}))})}),console.log(e.state.chatrooms)})}else M.database().ref("users").child(n).set(e.state.current_user).then(function(e){return console.log("USER ADDED")}).catch(function(e){return console.log(e)})})}else console.log("Unable to get current user")});var a=[];M.database().ref("chatrooms").child(this.state.currentGroup).child("chat").on("value",function(t){a=[],e.setState({chats:[]}),t.forEach(function(e){a.push(e.val())}),e.setState({chats:a}),console.log(e.state.chats)})}},{key:"componentDidMount",value:function(){var e=Object(b.a)(v.a.mark(function e(){return v.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.checkForNewNots();case 2:return e.next=4,this.getusers();case 4:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"componentDidUpdate",value:function(){var e=Object(b.a)(v.a.mark(function e(){return v.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getusers();case 2:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"getusers",value:function(){var e=Object(b.a)(v.a.mark(function e(){var t=this;return v.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(void 0!=localStorage.getItem("users")){e.next=5;break}return e.next=3,S.a.get("/api/users",{headers:{Authorization:localStorage.getItem("token")}}).then(function(e){if(200!==e.status)throw error;console.log("USES SSSSS",e),t.setState({users:e.data.users}),localStorage.setItem("users",JSON.stringify(e.data.users))}).catch(function(e){throw console.log(e),e});case 3:e.next=6;break;case 5:this.state.users.length<1&&this.setState({users:JSON.parse(localStorage.getItem("users"))});case 6:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"checkForNewNots",value:function(){var e=Object(b.a)(v.a.mark(function e(){var t=this;return v.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,S.a.get("/api/notifications/new/".concat(this.state.name),{headers:{Authorization:localStorage.getItem("token")}}).then(function(e){if(200!==e.status)throw new Error(e.error);var a=e.data;a.length>0&&(t.setState({newNot:!0,length:a.length}),localStorage.setItem("notsCount",a.length))}).catch(function(e){});case 2:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"activeRoute",value:function(e){return this.props.location.pathname.indexOf(e)>-1?"active":""}},{key:"render",value:function(){var e,t=this,n=(Object(W.css)({height:700}),Object(W.css)({color:"#fff",background:"#000",borderRadius:"10px",height:"30px",margin:"1rem",position:"relative",fontSize:"18px",boxShadow:"0 1px 3px rgba(0,0,0,0.12), 0 1px 2px rgba(0,0,0,0.24);"})),o=Object(W.css)({background:"#fff",borderRadius:"10px",height:"30px",margin:"1rem",fontSize:"18px",position:"relative",boxShadow:"0 1px 3px rgba(0,0,0,0.12), 0 1px 2px rgba(0,0,0,0.24);"}),l=this.state.chatrooms.map(function(e){return r.a.createElement("div",{className:localStorage.getItem("activeRoom")==e.id?n:o,key:e.id,onClick:function(){window.open("/admin/chat-room","_self"),localStorage.setItem("activeRoom",e.id);var a=e.id;console.log(a),t.setState({currentGroup:a},function(){console.log(t.state.currentGroup),M.database().ref("chatrooms").child(t.state.currentGroup).once("value",function(e){t.setState({currentGroupName:e.val().name})});var e=[];M.database().ref("chatrooms").child(t.state.currentGroup).child("chat").on("value",function(a){e=[],t.setState({chats:[]}),a.forEach(function(t){e.push(t.val())}),t.setState({chats:e}),console.log(t.state.chats)})})}},r.a.createElement("h4",{className:"text-center",style:{paddingTop:"4px"}},e.name))}),s=this.props,c=(s.bgColor,s.routes),i=s.logo;i&&i.innerLink?e={to:i.innerLink,tag:C.a}:i&&i.outterLink&&(e={href:i.outterLink,target:"_blank"});return r.a.createElement(w.a,{className:"navbar-vertical fixed-left navbar-light bg-white",expand:"md",id:"sidenav-main"},r.a.createElement(f.a,{fluid:!0},r.a.createElement("button",{className:"navbar-toggler",type:"button",onClick:this.toggleCollapse},r.a.createElement("span",{className:"navbar-toggler-icon"})),i?r.a.createElement(Y.a,Object.assign({className:"pt-0"},e),r.a.createElement("img",{alt:i.imgAlt,className:"navbar-brand-img",src:i.imgSrc})):null,r.a.createElement(A.a,{className:"align-items-center d-md-none"},r.a.createElement(j.a,{nav:!0},r.a.createElement(D.a,{nav:!0,className:"nav-link-icon"},r.a.createElement("i",{className:"ni ni-bell-55"})),r.a.createElement(L.a,{"aria-labelledby":"navbar-default_dropdown_1",className:"dropdown-menu-arrow",right:!0},r.a.createElement(z.a,null,"Action"),r.a.createElement(z.a,null,"Another action"),r.a.createElement(z.a,{divider:!0}),r.a.createElement(z.a,null,"Something else here"))),r.a.createElement(j.a,{nav:!0},r.a.createElement(D.a,{nav:!0},r.a.createElement(U.a,{className:"align-items-center"},r.a.createElement("span",{className:"avatar avatar-sm rounded-circle"},r.a.createElement("img",{alt:"...",src:a(1065)})))),r.a.createElement(L.a,{className:"dropdown-menu-arrow",right:!0},r.a.createElement(z.a,{className:"noti-title",header:!0,tag:"div"},r.a.createElement("h6",{className:"text-overflow m-0"},"Welcome!")),r.a.createElement(z.a,{to:"/admin/user-profile",tag:C.a},r.a.createElement("i",{className:"ni ni-single-02"}),r.a.createElement("span",null,"My profile")),r.a.createElement(z.a,{to:"/admin/user-profile",tag:C.a},r.a.createElement("i",{className:"ni ni-settings-gear-65"}),r.a.createElement("span",null,"Settings")),r.a.createElement(z.a,{to:"/admin/user-profile",tag:C.a},r.a.createElement("i",{className:"ni ni-calendar-grid-58"}),r.a.createElement("span",null,"Activity")),r.a.createElement(z.a,{to:"/admin/user-profile",tag:C.a},r.a.createElement("i",{className:"ni ni-support-16"}),r.a.createElement("span",null,"Support")),r.a.createElement(z.a,{divider:!0}),r.a.createElement(z.a,{href:"#pablo",onClick:function(e){return e.preventDefault()}},r.a.createElement("i",{className:"ni ni-user-run"}),r.a.createElement("span",null,"Logout"))))),r.a.createElement(q.a,{navbar:!0,isOpen:this.state.collapseOpen},r.a.createElement("div",{className:"navbar-collapse-header d-md-none"},r.a.createElement(R.a,null,i?r.a.createElement(F.a,{className:"collapse-brand",xs:"6"},i.innerLink?r.a.createElement(C.a,{to:i.innerLink},r.a.createElement("img",{className:"img=fluid",alt:i.imgAlt,src:i.imgSrc})):r.a.createElement("a",{href:i.outterLink},r.a.createElement("img",{className:"img=fluid",alt:i.imgAlt,src:i.imgSrc}))):null,r.a.createElement(F.a,{className:"collapse-close",xs:"6"},r.a.createElement("button",{className:"navbar-toggler",type:"button",onClick:this.toggleCollapse},r.a.createElement("span",null),r.a.createElement("span",null))))),r.a.createElement(x.a,{className:"mt-4 mb-3 d-md-none"},r.a.createElement(O.a,{className:"input-group-rounded input-group-merge"},r.a.createElement(V.a,{"aria-label":"Search",className:"form-control-rounded form-control-prepended",placeholder:"Search",type:"search"}),r.a.createElement(T.a,{addonType:"prepend"},r.a.createElement(I.a,null,r.a.createElement("span",{className:"fa fa-search"}))))),r.a.createElement(A.a,{navbar:!0},this.createLinks(c)),r.a.createElement(A.a,{className:"mb-md-3 mt-2  ",navbar:!0},r.a.createElement(J.a,null,r.a.createElement("a",{style:{cursor:"pointer"},onClick:function(){t.setState({groupsToggle:!t.state.groupsToggle}),localStorage.setItem("chatToggle",!t.state.groupsToggle)},return:!0,false:!0},r.a.createElement("i",{style:{paddingRight:"5%",paddingLeft:"8%"},className:"ni ni-spaceship"}),"Group Chats ",r.a.createElement("i",{style:{paddingTop:"5%",paddingLeft:"4%"},className:"ni ni-bold-right"})),r.a.createElement("div",{style:{display:this.state.groupsToggle?"block":"none"}},l))),r.a.createElement("hr",{className:"my-3"}),r.a.createElement("h6",{className:"navbar-heading text-muted"},"Contact Us"),r.a.createElement(A.a,{className:"mb-md-3",navbar:!0},r.a.createElement(J.a,null,r.a.createElement("a",{className:"font-weight-bold ml-1",href:"https://cloudmates.ca",rel:"noopener noreferrer",target:"_blank"},r.a.createElement("i",{style:{paddingRight:"5%",paddingLeft:"8%"},className:"ni ni-spaceship"}),"Support"),r.a.createElement("h3",{style:{paddingLeft:"10%",marginTop:"5%",marginBottom:"1%"},className:"navbar-heading text-success"},"Site Visits"),r.a.createElement("a",{href:"https://www.freecounterstat.com",title:"website counter"},r.a.createElement("img",{style:{paddingLeft:"10%",marginTop:"-5%"},src:"https://counter10.wheredoyoucomefrom.ovh/private/freecounterstat.php?c=fyp6awnpceumf6lzrg5n8wd2j1b7cl4l",border:"0",title:"website counter",alt:"website counter"})))))))}}]),t}(r.a.Component);X.defaultProps={routes:[{}]};var Z=X,$=a(50),Q=(a(3),a(293)),ee=a.n(Q),te=a(217),ae=a(174),ne=a(485),re=a.n(ne),oe=(a(622),a(232),a(1093)),le=a(489),se=a(1140),ce=a(1095),ie=a(1096),ue=a(1097),me=a(1099),de=a(1102),pe=a(1103),ge=a(1104),he=a(1133),fe=a(516),Ee=a(301),ve=function(e){function t(){return Object(m.a)(this,t),Object(p.a)(this,Object(g.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"header bg-gradient-info pb-8 pt-5 pt-md-8"},r.a.createElement(f.a,{fluid:!0},r.a.createElement("div",{className:"header-body"}))))}}]),t}(r.a.Component),be=function(e){function t(e){var a;return Object(m.a)(this,t),(a=Object(p.a)(this,Object(g.a)(t).call(this,e))).handleInputChange=function(e){var t=e.target,n=t.value,r=t.name;a.setState(Object($.a)({},r,n))},a.onSubmit=function(e){e.preventDefault();S.a.patch("/api/announcements/".concat("5da870f94db4be0a37de29b7","/"),{content:a.state.announcementContent,mini:a.state.announcementMini,pic:a.state.announcementPic},{headers:{Authorization:localStorage.getItem("token")}}).then(function(e){200===e.status&&S.a.get("/api/announcements/recent",{headers:{Authorization:localStorage.getItem("token")}}).then(function(e){if(200===e.status){var t=e.data;a.setState({announcement:t.announcement})}else console.log("Unable to get this announcement by id")})})},a.state={announcement:{},new_announcement:"",current_user:{},all_users:[{}],open:!1,modal:!1,announcementContent:"",announcementMini:"",announcementPic:""},a}return Object(h.a)(t,e),Object(d.a)(t,[{key:"componentWillMount",value:function(){var e=this;window.Chart&&Object(Ee.parseOptions)(ee.a,Object(Ee.chartOptions)()),S.a.get("/api/announcements/recent",{headers:{Authorization:localStorage.getItem("token")}}).then(function(t){if(200===t.status){var a=t.data;console.log(a),e.setState({announcement:a.announcement})}else console.log("Unable to get this announcement by id");S.a.get("/api/users?name=".concat(e.props.name),{headers:{Authorization:localStorage.getItem("token")}}).then(function(t){if(200===t.status){var a=t.data.users[0];e.setState({current_user:a}),M.database().ref("users").once("value",function(t){t.child(e.state.current_user._id).exists()?(console.log("DATA EXISTS"),M.database().ref("users").child(e.state.current_user._id).set(e.state.current_user).then(function(t){M.database().ref("users").child(e.state.current_user._id).child("status").set({status:"online",last_changed:M.database.ServerValue.TIMESTAMP})})):(console.log("NO FIREBASE USER FOUND"),M.database().ref("users").child(e.state.current_user._id).set(e.state.current_user).then(function(t){M.database().ref("users").child(e.state.current_user._id).child("status").set({status:"online",last_changed:M.database.ServerValue.TIMESTAMP})}))}),S.a.get("/api/users/",{headers:{Authorization:localStorage.getItem("token")}}).then(function(t){if(200===t.status){var a=t.data;e.setState({all_users:a.users}),console.log("Sorted USer:"),console.log(e.getUsersSortedByPoints())}})}else console.log("Unable to get all posts")})})}}]),Object(d.a)(t,[{key:"getUsersSortedByPoints",value:function(){return this.state.all_users.sort(function(e,t){return e.points<=t.points?1:-1})}},{key:"getTrophyStyle",value:function(e){if(e>2)return{display:"none"};var t={paddingRight:"5%",fontSize:"200%",color:""};return 0===e?t.color="rgb(248,206,56)":1===e?t.color="rgb(192,192,192)":2===e&&(t.color="#cd7f32"),t}},{key:"render",value:function(){var e=this;console.log(this.state.current_user);var t=this.state,a=(t.open,t.size,function(){return e.setState({modal:!e.state.modal})}),n=this.getUsersSortedByPoints().slice(0,5).map(function(t,a){return r.a.createElement("tr",null,r.a.createElement("th",{scope:"row"},r.a.createElement("span",{style:e.getTrophyStyle(a)},r.a.createElement(ae.a,{icon:te.b})),r.a.createElement("b",null,t.name)),r.a.createElement("td",null,"Currently Disabled"),r.a.createElement("td",null,r.a.createElement("div",{className:"d-flex align-items-center"},r.a.createElement("div",null,r.a.createElement(oe.a,{max:"100",value:100-20*a,barClassName:"bg-gradient-danger"})))))});return r.a.createElement(r.a.Fragment,null,r.a.createElement(ve,null),r.a.createElement(f.a,{className:"mt--7",fluid:!0},r.a.createElement(he.a,{style:{margin:"0"},size:"large",color:"orange"},r.a.createElement(he.a.Header,null,this.state.announcement.content),r.a.createElement("p",null,this.state.announcement.mini),"ADMIN"==this.state.current_user.userType?r.a.createElement(le.a,{color:"danger",onClick:a},"OPEN"):r.a.createElement("div",null),r.a.createElement("div",null,r.a.createElement(se.a,{isOpen:this.state.modal,toggle:a},r.a.createElement(ce.a,{toggle:a},"Update Notification"),r.a.createElement(ie.a,null,r.a.createElement(ue.a,null,"Content"),r.a.createElement(V.a,{placeholder:this.state.announcement.content,onChange:function(t){return e.setState({announcementContent:t.target.value})}}),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement(ue.a,null,"Mini"),r.a.createElement(V.a,{placeholder:this.state.announcement.mini,onChange:function(t){return e.setState({announcementMini:t.target.value})}}),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement(ue.a,null,"Pic"),r.a.createElement(V.a,{placeholder:this.state.announcement.pic,onChange:function(t){return e.setState({announcementPic:t.target.value})}})),r.a.createElement(me.a,null,r.a.createElement(le.a,{color:"primary",onClick:function(){console.log("UPDATING"),console.log(),""!=e.state.announcementMini&&""!=e.state.announcementContent&&(console.log("DETAILS"),console.log(e.state.announcementContent,e.state.announcementMini),S.a.patch("/api/announcements/".concat("5d5e0effd782c7f9e44ea318","/"),{content:e.state.announcementContent,mini:e.state.announcementMini,pic:e.state.announcementPic},{headers:{Authorization:localStorage.getItem("token")}}).then(function(t){200===t.status&&S.a.get("/api/announcements/recent",{headers:{Authorization:localStorage.getItem("token")}}).then(function(t){if(200===t.status){var a=t.data;e.setState({announcement:a.announcement})}else console.log("Unable to get this announcement by id")})}));a()}},"Apply")," ",r.a.createElement(le.a,{color:"secondary",onClick:a},"Cancel"))))),r.a.createElement(R.a,null),r.a.createElement(R.a,{className:"mt-5"},r.a.createElement(F.a,{className:"mb-5 mb-xl-0",xl:"8"},r.a.createElement(de.a,{className:"shadow"},r.a.createElement(re.a,{forecast:"today",apikey:"7ad07aac9b0943040a4abdd2c23dfc4e",type:"city",city:"Toronto"}))),r.a.createElement(F.a,{xl:"4"},r.a.createElement(de.a,{className:"shadow"},r.a.createElement(pe.a,{className:"border-0"},r.a.createElement(R.a,{className:"align-items-center"},r.a.createElement("div",{className:"col"},r.a.createElement("h3",{className:"mb-0"},"Leaderboard")))),r.a.createElement(ge.a,{className:"align-items-center table-flush",responsive:!0},r.a.createElement("thead",{className:"thead-light"},r.a.createElement("tr",null,r.a.createElement("th",{scope:"col"},"User Name"),r.a.createElement("th",{scope:"col"},"Points"),r.a.createElement("th",{scope:"col"}))),r.a.createElement("tbody",null,n))))),r.a.createElement(fe.a,{style:{marginTop:"-22%",zIndex:"-1"},bordered:!0,src:this.state.announcement.pic,fluid:!0})))}}]),t}(r.a.Component),ye=a(1105),Se=function(e){function t(){return Object(m.a)(this,t),Object(p.a)(this,Object(g.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"header pb-8 pt-5 pt-lg-8 d-flex align-items-center",style:{minHeight:"600px",backgroundImage:"url(https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcT-EKBBHy9ssq-sB-9x8ahmots9l88Xk-ZgtDvs_sJ1K44-DvsN)",backgroundSize:"cover",backgroundPosition:"center top"}},r.a.createElement("span",{className:"mask bg-gradient-default opacity-8"}),r.a.createElement(f.a,{className:"d-flex align-items-center",fluid:!0},r.a.createElement(R.a,null,r.a.createElement(F.a,{lg:"7",md:"10"},r.a.createElement("h1",{className:"display-2 text-white"},"Hello "),r.a.createElement("p",{className:"text-white mt-0 mb-5"},"This is your profile page. You can see the progress you've made with your work and manage your projects or assigned tasks"))))))}}]),t}(r.a.Component),ke=(a(900),function(e){function t(){var e;return Object(m.a)(this,t),(e=Object(p.a)(this,Object(g.a)(t).call(this))).isEmpty=function(e){for(var t in e)if(e.hasOwnProperty(t))return!1;return!0},e.handleInputChange=function(t){var a=t.target,n=a.value,r=a.name;e.setState(Object($.a)({},r,n))},e.onSubmit=function(t){t.preventDefault(),S.a.patch("/api/users/".concat(e.state.current_user._id),{password:e.state.password},{headers:{Authorization:localStorage.getItem("token")}}).then(function(t){200===t.status&&(console.log("Password changed successfully"),e.setState({goodChange:!0}))})},e.search=function(t){e.setState({search:t.target.value}),console.log("changing")},e.state={current_user:{points:0,userType:"",_id:""},loggedUser:{},password:"",goodChange:!1,modalLevel:!1,modalUserType:!1,modalPoints:!1,userPoints:0,userType:"",userLevel:0,chatrooms:[],value:""},M.database().ref("chatrooms").once("value",function(t){e.setState({chatrooms:t.val()}),console.log(e.state.chatrooms)}),e}return Object(h.a)(t,e),Object(d.a)(t,[{key:"componentWillMount",value:function(){var e=this,t=window.location.href.split("profile/")[1];console.log("IDD"),console.log(t),S.a.get("/api/users/".concat(t),{headers:{Authorization:localStorage.getItem("token")}}).then(function(t){200===t.status&&(console.log(t.data),""===e.state.current_user.userType&&e.setState({current_user:t.data.user}),console.log("logged user: ",e.state.current_user))}),console.log(this.props.name),console.log("/api/users?name=".concat(localStorage.getItem("username"))),S.a.get("/api/users?name=".concat(localStorage.getItem("username")),{headers:{Authorization:localStorage.getItem("token")}}).then(function(t){if(200===t.status){console.log(t.data);var a=t.data.users[0];e.isEmpty(e.state.loggedUser)&&e.setState({loggedUser:a})}else console.log("Unable to get current user")})}},{key:"render",value:function(){var e=this;return r.a.createElement(r.a.Fragment,null,r.a.createElement(Se,{name:this.props.name}),r.a.createElement(f.a,{className:"mt--7",fluid:!0},r.a.createElement(se.a,{isOpen:this.state.modalPoints},r.a.createElement(ce.a,null,"Update Points"),r.a.createElement(ie.a,null,r.a.createElement(ue.a,null,"Points"),r.a.createElement(V.a,{placeholder:this.state.current_user.points,onChange:function(t){return e.setState({userPoints:t.target.value})}})),r.a.createElement(me.a,null,r.a.createElement(le.a,{color:"primary",onClick:function(){!function(t){console.log(t);var a=e.state.current_user._id;console.log(a),S.a.patch("/api/users/".concat(a),{points:e.state.userPoints},{headers:{Authorization:localStorage.getItem("token")}}).then(function(t){200===t.status&&(console.log("Points updated successfully"),S.a.get("/api/users/".concat(a),{headers:{Authorization:localStorage.getItem("token")}}).then(function(t){200===t.status&&(console.log(t.data),e.setState({current_user:t.data.user}),console.log("current user: ",e.state.current_user))}))})}(e.state.userPoints)}},"Apply")," ",r.a.createElement(le.a,{color:"secondary",onClick:function(){console.log("cancel"),e.setState({modalPoints:!1})}},"Cancel"))),r.a.createElement(se.a,{isOpen:this.state.modalLevel},r.a.createElement(ce.a,null,"Update Level"),r.a.createElement(ie.a,null,r.a.createElement(ue.a,null,"Level"),r.a.createElement(V.a,{placeholder:this.state.current_user.level,onChange:function(t){return e.setState({userLevel:t.target.value})}})),r.a.createElement(me.a,null,r.a.createElement(le.a,{color:"primary",onClick:function(){!function(t){var a=e.state.current_user._id;console.log(a),S.a.patch("/api/users/".concat(a),{level:e.state.userLevel},{headers:{Authorization:localStorage.getItem("token")}}).then(function(t){200===t.status&&(console.log("Points updated successfully"),S.a.get("/api/users/".concat(a),{headers:{Authorization:localStorage.getItem("token")}}).then(function(t){200===t.status&&(console.log(t.data),e.setState({current_user:t.data.user}),console.log("current user: ",e.state.current_user))}))})}(e.state.userLevel)}},"Apply")," ",r.a.createElement(le.a,{color:"secondary",onClick:function(){e.setState({modalLevel:!1}),console.log("cancel")}},"Cancel"))),r.a.createElement(se.a,{isOpen:this.state.modalUserType},r.a.createElement(ce.a,null,"Update Role"),r.a.createElement(ie.a,null,r.a.createElement(ue.a,null,"User Role"),r.a.createElement(V.a,{placeholder:this.state.current_user.userType,onChange:function(t){return e.setState({userType:t.target.value})}})),r.a.createElement(me.a,null,r.a.createElement(le.a,{color:"primary",onClick:function(){!function(t){var a=e.state.current_user._id;console.log(a),S.a.patch("/api/users/".concat(a),{userType:e.state.userType},{headers:{Authorization:localStorage.getItem("token")}}).then(function(t){200===t.status&&(console.log("Points updated successfully"),S.a.get("/api/users/".concat(a),{headers:{Authorization:localStorage.getItem("token")}}).then(function(t){200===t.status&&(console.log(t.data),e.setState({current_user:t.data.user}),console.log("current user: ",e.state.current_user))}))})}(e.state.userType)}},"Apply")," ",r.a.createElement(le.a,{color:"secondary",onClick:function(){console.log("cancel"),e.setState({modalUserType:!1})}},"Cancel"))),r.a.createElement(R.a,null,r.a.createElement(F.a,{className:"order-xl-2 mb-5 mb-xl-0",xl:"12"},r.a.createElement(de.a,{className:"card-profile shadow"},r.a.createElement(R.a,{className:"justify-content-center"},r.a.createElement(F.a,{className:"order-lg-2",lg:"3"},r.a.createElement("div",{className:"card-profile-image"},r.a.createElement("a",{href:"#pablo",onClick:function(e){return e.preventDefault()}},r.a.createElement("img",{alt:"...",className:"rounded-circle",src:"https://ui-avatars.com/api/?size=160&background=0D8ABC&color=fff&bold=true&name=".concat(this.state.current_user.name)}))))),r.a.createElement(pe.a,{className:"text-center border-0 pt-8 pt-md-4 pb-0 pb-md-4"},r.a.createElement("div",{className:"d-flex justify-content-between"},r.a.createElement(le.a,{className:"mr-4",color:"info",href:"#pablo",onClick:function(e){return e.preventDefault()},size:"sm"},"Day Boy"),r.a.createElement(le.a,{className:"float-right",color:"default",href:"#pablo",onClick:function(e){return e.preventDefault()},size:"sm"},"Student"))),r.a.createElement(ye.a,{className:"pt-0 pt-md-4"},r.a.createElement(R.a,null,r.a.createElement("div",{className:"col"},r.a.createElement("div",{className:"card-profile-stats d-flex justify-content-center mt-md-5"},r.a.createElement("div",null,r.a.createElement("span",{className:"heading",onClick:function(){"ADMIN"===e.state.loggedUser.userType?e.setState({modalPoints:!0}):console.log("errrrr")}},this.state.current_user.points),r.a.createElement("span",{className:"description"},"Points")),r.a.createElement("div",null,r.a.createElement("span",{className:"heading",onClick:function(){"ADMIN"===e.state.loggedUser.userType?e.setState({modalLevel:!0}):console.log("errrrr")}},this.state.current_user.level),r.a.createElement("span",{className:"description"},"Level")),r.a.createElement("div",null,r.a.createElement("span",{className:"heading",onClick:function(){"ADMIN"===e.state.loggedUser.userType?e.setState({modalUserType:!0}):console.log("errrrr")}},this.state.current_user.userType),r.a.createElement("span",{className:"description"},"User Type"))))),"ADMIN"==this.state.loggedUser.userType?r.a.createElement(N.a,{items:this.state.chatrooms,shouldItemRender:function(e,t){return e.name.toLowerCase().indexOf(t.toLowerCase())>-1},getItemValue:function(e){return e.name},inputProps:{style:{height:"32px",borderRadius:"25px"},placeholder:"    Search For Groups"},renderItem:function(t,a){return r.a.createElement("div",{key:t.id}," ",t.name," ",r.a.createElement("br",null)," ",r.a.createElement("button",{onClick:function(){console.log(t.name.indexOf(e.state.search)),M.database().ref("chatrooms").child(t.id).child("members").child(e.state.current_user._id).set(e.state.current_user),M.database().ref("chatrooms").child(t.id).child("online").child(e.state.current_user._id).set({name:e.state.current_user.name,online:!1}),M.database().ref("users").child(e.state.current_user._id).set(e.state.current_user)}},"ADD")," ")},value:this.state.value,placeholder:"Search users..",onChange:function(t){return e.setState({value:t.target.value})},onSelect:function(t){return e.setState({value:t})}}):null,r.a.createElement("div",{className:"text-center"},r.a.createElement("h3",null,this.state.current_user.name),r.a.createElement("div",{className:"h5 font-weight-300"},r.a.createElement("i",{className:"ni location_pin mr-2"}),"Year : ",this.state.current_user.grade),r.a.createElement("hr",{className:"my-4"}),r.a.createElement("p",null,r.a.createElement("i",null,r.a.createElement("b",null," Bio:"),r.a.createElement("br",null),this.state.current_user.description)," ")))))),r.a.createElement("div",{style:{height:"500px"}})))}}]),t}(r.a.Component)),Ne=function(e){function t(e){var a;return Object(m.a)(this,t),(a=Object(p.a)(this,Object(g.a)(t).call(this,e))).onSubmit=function(e){e.preventDefault(),fetch("/api/auth/register",{method:"POST",body:JSON.stringify(a.state),headers:{"Content-Type":"application/json"}}).then(function(e){if(200===e.status)alert("Register successful! Please log in to proceed."),a.props.history.push("/auth/login");else if(500===e.status){throw new Error("Server Error")}}).catch(function(e){alert("Server Error")})},a.handleInputChange=function(e){var t=e.target,n=t.value,r=t.name;a.setState(Object($.a)({},r,n))},a.state={email:"",name:"",password:"",grade:""},a}return Object(h.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(F.a,{lg:"6",md:"8"},r.a.createElement(de.a,{className:"bg-secondary shadow border-0"},r.a.createElement(ye.a,{className:"px-lg-5 py-lg-5"},r.a.createElement("div",{className:"text-center text-muted mb-4"},r.a.createElement("large",null,"Currenlty Disabled by your School Administrator"))))))}}]),t}(r.a.Component),Ce=a(1125),we=function(e){function t(e){var a;return Object(m.a)(this,t),(a=Object(p.a)(this,Object(g.a)(t).call(this,e))).onSubmit=function(e){e.preventDefault(),fetch("/api/auth/authenticate",{method:"POST",body:JSON.stringify(a.state),headers:{"Content-Type":"application/json"}}).then(function(){var e=Object(b.a)(v.a.mark(function e(t){return v.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(200!==t.status){e.next=10;break}return e.next=3,t.json();case 3:t=e.sent,console.log(t),localStorage.setItem("token",t.token),console.log(a.props.history),a.props.history.push("/"),e.next=13;break;case 10:if(401!==t.status){e.next=13;break}throw new Error("wrong Credentials");case 13:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()).catch(function(e){a.setState({failedLogin:!0})})},a.handleInputChange=function(e){var t=e.target,n=t.value,r=t.name;a.setState(Object($.a)({},r,n))},a.state={email:"",password:"",failedLogin:!1},a}return Object(h.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(F.a,{lg:"5",md:"7"},r.a.createElement(he.a,{style:this.state.failedLogin?{}:{display:"none"},negative:!0},r.a.createElement(he.a.Header,null,"Login Failed"),r.a.createElement("p",null,"Please provide correct login credentials")),r.a.createElement(de.a,{className:"bg-secondary shadow border-0"},r.a.createElement(ye.a,{className:"px-lg-5 py-lg-5"},r.a.createElement("div",{className:"text-center text-muted mb-4"},r.a.createElement("small",null,"Sign in with credentials")),r.a.createElement(x.a,{role:"form",onSubmit:this.onSubmit},r.a.createElement(_.a,{className:"mb-3"},r.a.createElement(O.a,{className:"input-group-alternative"},r.a.createElement(T.a,{addonType:"prepend"},r.a.createElement(I.a,null,r.a.createElement("i",{className:"ni ni-email-83"}))),r.a.createElement(V.a,{name:"email",placeholder:"Email",type:"email",value:this.state.email,onChange:this.handleInputChange,required:!0}))),r.a.createElement(_.a,null,r.a.createElement(O.a,{className:"input-group-alternative"},r.a.createElement(T.a,{addonType:"prepend"},r.a.createElement(I.a,null,r.a.createElement("i",{className:"ni ni-lock-circle-open"}))),r.a.createElement(V.a,{name:"password",placeholder:"Password",type:"password",value:this.state.password,onChange:this.handleInputChange,required:!0}))),r.a.createElement("div",{className:"text-center"},r.a.createElement(Ce.a,{className:"my-4",color:"primary",type:"submit"},"Sign in"))))),r.a.createElement(R.a,{className:"mt-3"},r.a.createElement(F.a,{xs:"6"}),r.a.createElement(F.a,{className:"text-right",xs:"6"},r.a.createElement("a",{className:"text-light",href:"",onClick:function(e){return e.preventDefault()}},r.a.createElement("small",null,r.a.createElement(C.a,{to:"/auth/register"},"Create new account")))))))}}]),t}(r.a.Component),xe=a(1110),_e=a(122),Oe=a.n(_e),Te=a(309),Ie=a(518),Ae=a(509),je=["All","Y8","Y9","Y10","Y11","Y12","Suggestions"],De=function(e){function t(){var e;return Object(m.a)(this,t),(e=Object(p.a)(this,Object(g.a)(t).call(this))).handleChangeComplete=function(t){e.setState({color:t.hex})},e.handleInputChange=function(t){var a=t.target,n=a.value,r=a.name;e.setState(Object($.a)({},r,n))},e.onSubmit=function(t){t.preventDefault(),S.a.post("/api/posts/",{username:e.props.name,title:e.state.new_post_title,content:e.state.new_post_content,tag:e.state.tag},{headers:{Authorization:localStorage.getItem("token")}}).then(function(e){200===e.status?console.log("added new post"):alert("Unable to add a new post. Please try again")}),e.changeUserPoints(5,e.props.name),e.toggle(),S.a.get("/api/posts/",{headers:{Authorization:localStorage.getItem("token")}}).then(function(t){if(200===t.status){var a=t.data;console.log("Got all posts:"),console.log(a),e.setState({posts:a.posts})}else console.log("Unable to get all posts")})},e.state={posts:[],originalPosts:[],modal:!1,tag:"All",filterTag:"All",new_post_title:"",new_post_content:"",current_user:{},newpoints:"",usernewpoints:"",colorModal:!1,color:"red",selectedPost:{}},e.toggle=e.toggle.bind(Object(G.a)(Object(G.a)(e))),e}return Object(h.a)(t,e),Object(d.a)(t,[{key:"componentWillMount",value:function(){var e=this;console.log("THIS IS HERE"),S.a.get("/api/posts/",{headers:{Authorization:localStorage.getItem("token")}}).then(function(t){if(200===t.status){var a=t.data;console.log("Got all posts"),console.log(a),e.setState({posts:a.posts})}else console.log("Unable to get all posts");S.a.get("/api/users?name=".concat(e.props.name),{headers:{Authorization:localStorage.getItem("token")}}).then(function(t){if(200===t.status){var a=t.data.users[0];e.setState({current_user:a})}else console.log("Unable to get all posts")})})}},{key:"isLoggedIn",value:function(){return"Guest"!==this.props.name}},{key:"toggle",value:function(){this.setState(function(e){return{modal:!e.modal}})}},{key:"onDelete",value:function(e,t){var a=this;S.a.delete("/api/posts/".concat(e),{headers:{Authorization:localStorage.getItem("token")}}).then(function(e){200===e.status?(a.changeUserPoints(-10,t),S.a.get("https://localhost:8080/api/posts").then(function(e){if(200===e.status){var t=e.data;a.setState({posts:t.posts})}else console.log("doesnt matter")})):console.log("Unable to Delete this post")})}},{key:"onChangeStatus",value:function(e){var t=this;console.log("RESOLVE"),S.a.patch("/api/posts/".concat(e),{resolved:!0},{headers:{Authorization:localStorage.getItem("token")}}).then(function(e){200===e.status?S.a.get("/api/posts",{headers:{Authorization:localStorage.getItem("token")}}).then(function(e){if(200===e.status){var a=e.data;t.setState({posts:a.posts})}else console.log("doesnt matter")}):console.log("Unable to Delete this post")})}},{key:"onChangeColorToRed",value:function(e){var t=this;console.log(e),S.a.patch("/api/posts/".concat(e),{readOnly:!0},{headers:{Authorization:localStorage.getItem("token")}}).then(function(e){200===e.status?S.a.get("/api/posts",{headers:{Authorization:localStorage.getItem("token")}}).then(function(e){if(console.log("Re Render"),console.log(e.data),200===e.status){var a=e.data;t.setState({posts:a.posts})}else console.log("doesnt matter")}):console.log("Unable to Delete this post")})}},{key:"onChangeColorToBlue",value:function(e){var t=this;console.log(e),S.a.patch("/api/posts/".concat(e),{readOnly:!1},{headers:{Authorization:localStorage.getItem("token")}}).then(function(e){200===e.status?S.a.get("/api/posts",{headers:{Authorization:localStorage.getItem("token")}}).then(function(e){if(200===e.status){var a=e.data;t.setState({posts:a.posts})}else console.log("doesnt matter")}):console.log("Unable to Delete this post")})}},{key:"changeUserPoints",value:function(e,t){var a=t;S.a.get("/api/users?name=".concat(a),{headers:{Authorization:localStorage.getItem("token")}}).then(function(t){if(200===t.status){var n=t.data.users;if(n.length>0){var r=n[0],o=r._id,l=r.points+e;S.a.patch("/api/users/".concat(o),{points:l},{},{headers:{Authorization:localStorage.getItem("token")}}).then(function(t){200===t.status&&console.log("Succesfully incremenet points of user: ".concat(a," by ").concat(e))})}}})}},{key:"render",value:function(){var e=this;console.log(this.state.tag);var t=this.state.posts.filter(function(e){return e.readOnly}),a=this.state.posts.filter(function(e){return null==e.readOnly||!1===e.readOnly}),n=t.concat(a).map(function(t){var a,n=t.username===e.props.name,l=t.resolved,s="Admin"===e.props.name;if(t.tag===e.state.filterTag||"All"===e.state.filterTag)return console.log(s),a=l?t.readOnly?r.a.createElement(xe.a,{color:"",className:"badge badge-info"},"IMPORTANT"):r.a.createElement(xe.a,{color:"",className:"badge-dot mr-4"},r.a.createElement("i",{className:"bg-success"}),"Resolved"):r.a.createElement(xe.a,{color:"",className:"badge-dot mr-4"},r.a.createElement("i",{className:"bg-warning"}),"In Progress"),r.a.createElement("tr",{key:t._id},r.a.createElement("th",{scope:"row"},r.a.createElement(U.a,{className:"align-items-center"},r.a.createElement("i",{className:"ni ni-align-left-2"}," "),r.a.createElement(U.a,null,r.a.createElement("span",{className:"mb-0 text-sm"},r.a.createElement(C.a,{style:{color:t.color},to:{pathname:"/admin/mentor/"+t._id},key:t._id},t.title))))),r.a.createElement("td",null,t.replies.length),r.a.createElement("td",null,r.a.createElement(xe.a,{color:"",className:"badge badge-warning"},t.tag)),r.a.createElement("td",null,a),r.a.createElement("td",null,t.username),r.a.createElement("td",null,Oe.a.parseZone(t.timestamp).local().fromNow()),r.a.createElement("td",{className:"text-right"},r.a.createElement("div",{style:!n&&!e.isLoggedIn()||e.state.current_user&&e.state.current_user.userType&&"ADMIN"===e.state.current_user.userType?{}:{display:"none"}},r.a.createElement(j.a,null,r.a.createElement(D.a,{className:"btn-icon-only text-light",href:"#pablo",role:"button",size:"sm",color:"",onClick:function(e){return e.preventDefault()}},r.a.createElement("i",{className:"fas fa-ellipsis-v"})),r.a.createElement(L.a,{className:"dropdown-menu-arrow",right:!0},r.a.createElement(z.a,null,r.a.createElement("a",{className:"text-danger",onClick:function(){return e.onDelete(t._id,t.username)}},"Remove")),"ADMIN"==e.state.current_user.userType?r.a.createElement(z.a,null,r.a.createElement("a",{className:"text-danger",onClick:function(){return t.readOnly?e.onChangeColorToBlue(t._id):e.onChangeColorToRed(t._id)}}," ",t.readOnly?"Mark Read / Write":"Mark Read Only")):r.a.createElement("div",null),"ADMIN"==e.state.current_user.userType?r.a.createElement(z.a,null,r.a.createElement("a",{className:"text-danger",onClick:function(){var a=t;o(),e.setState({selectedPost:a})}},"CHANGE COLOR")):r.a.createElement("div",null),r.a.createElement(z.a,{style:l?{display:"none"}:{}},r.a.createElement("a",{className:"text-success",onClick:function(){return e.onChangeStatus(t._id)}},"Mark as Resolved"," "))))),r.a.createElement("div",{style:e.state.current_user&&e.state.current_user.userType&&"MOD"===e.state.current_user.userType?{}:{display:"none"}},r.a.createElement(j.a,null,r.a.createElement(D.a,{className:"btn-icon-only text-light",href:"#pablo",role:"button",size:"sm",color:"",onClick:function(e){return e.preventDefault()}},r.a.createElement("i",{className:"fas fa-ellipsis-v"})),r.a.createElement(L.a,{className:"dropdown-menu-arrow",right:!0},r.a.createElement(z.a,null,r.a.createElement("a",{className:"text-danger",onClick:function(){return e.onDelete(t._id,t.username)}},"Remove")),"MOD"==e.state.current_user.userType?r.a.createElement(z.a,null,r.a.createElement("a",{className:"text-danger",onClick:function(){return t.readOnly?e.onChangeColorToBlue(t._id):e.onChangeColorToRed(t._id)}}," ",t.readOnly?"Mark Read / Write":"Mark Read Only")):r.a.createElement("div",null),"MOD"==e.state.current_user.userType?r.a.createElement(z.a,null,r.a.createElement("a",{className:"text-danger",onClick:function(){var a=t;o(),e.setState({selectedPost:a})}},"CHANGE COLOR")):r.a.createElement("div",null),r.a.createElement(z.a,{style:l?{display:"none"}:{}},r.a.createElement("a",{className:"text-success",onClick:function(){return e.onChangeStatus(t._id)}},"Mark as Resolved"," ")))))))}),o=function(){e.setState({colorModal:!e.state.colorModal})};return r.a.createElement(r.a.Fragment,null,r.a.createElement(ve,null),r.a.createElement(f.a,{className:"mt--7",fluid:!0},r.a.createElement(he.a,{style:{marginBottom:""},size:"small",color:"red"},r.a.createElement(he.a.Header,null,"Welcome to CloudMates - Everyone Stay Safe!")),r.a.createElement("div",{style:this.state.current_user&&this.state.current_user.userType&&"MOD"===this.state.current_user.userType?{}:{display:"none"}}),r.a.createElement("div",{style:this.state.current_user&&this.state.current_user.userType&&"ADMIN"===this.state.current_user.userType?{}:{display:"none"}}),r.a.createElement(R.a,null,r.a.createElement("div",{className:"col"},r.a.createElement(de.a,{className:"shadow"},r.a.createElement(pe.a,{style:{backgroundRepeat:"repeat",backgroundImage:'url("https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcSNarfhvpyI9_wzGSXbXUH5Yn0Q9CAApXoBz8sDxKapfADJkqbiDw")'},className:"border-0"},r.a.createElement(R.a,null,r.a.createElement("h3",{className:"mb-0"},"Posts"),r.a.createElement(le.a,{color:"primary",disabled:"Guest"===this.props.name,style:{marginLeft:"auto"},onClick:this.toggle},"Create New Post"),r.a.createElement("select",{className:"custom-select col-2",style:{color:"black"},onChange:function(t){return e.setState({filterTag:t.target.value})}},je.map(function(t){return r.a.createElement("option",{style:{color:"black"},value:t,selected:e.state.tag==t},t)})),r.a.createElement(le.a,{color:"danger",style:this.state.current_user&&this.state.current_user.userType&&"ADMIN"===this.state.current_user.userType?{}:{display:"none"}},"You are an Admin"),r.a.createElement(le.a,{color:"warning",style:this.state.current_user&&this.state.current_user.userType&&"MOD"===this.state.current_user.userType?{}:{display:"none"}},"You are a Moderator")),r.a.createElement("div",null,r.a.createElement(se.a,{isOpen:this.state.colorModal,toggle:o},r.a.createElement(ce.a,{toggle:o},"Update Color  "),r.a.createElement(ie.a,null,r.a.createElement(Te.a,null,r.a.createElement(Ie.a,null,r.a.createElement(Ie.a.Column,{textAlign:"center"},r.a.createElement(Ae.SketchPicker,{width:400,color:this.state.color,onChangeComplete:this.handleChangeComplete}))))),r.a.createElement(me.a,null,r.a.createElement(le.a,{color:"primary",onClick:function(){var t;t=e.state.selectedPost._id,e.setState({colorModal:!e.state.colorModal}),console.log(t),console.log("CHAGING COLOR"),S.a.patch("/api/posts/".concat(t),{color:e.state.color},{headers:{Authorization:localStorage.getItem("token")}}).then(function(t){200===t.status?S.a.get("/api/posts",{headers:{Authorization:localStorage.getItem("token")}}).then(function(t){if(console.log("Re Render"),console.log(t.data),200===t.status){var a=t.data;e.setState({posts:a.posts})}else console.log("doesnt matter")}):console.log("Unable to Delete this post")})}},"Apply")," ",r.a.createElement(le.a,{color:"secondary",onClick:o},"Cancel"))),r.a.createElement(se.a,{isOpen:this.state.modal,toggle:this.toggle,className:this.props.className},r.a.createElement(ce.a,{toggle:this.toggle},"Create a New Post"),r.a.createElement(ie.a,null,r.a.createElement(x.a,{role:"form",onSubmit:this.onSubmit},r.a.createElement(_.a,null,r.a.createElement(ue.a,{for:"exampleEmail"},"Title"),r.a.createElement(V.a,{name:"new_post_title",value:this.state.new_post_title,onChange:this.handleInputChange,required:!0,placeholder:"Type your topic here."})),r.a.createElement(_.a,null,r.a.createElement(ue.a,{for:"exampleText"},"Content"),r.a.createElement(V.a,{type:"textarea",name:"new_post_content",value:this.state.new_post_content,onChange:this.handleInputChange,required:!0,placeholder:"Type your message content here."})),r.a.createElement(me.a,null,r.a.createElement("select",{className:"custom-select col-3",style:{color:"black"},onChange:function(t){return e.setState({tag:t.target.value})},value:this.state.tag},je.map(function(t){return r.a.createElement("option",{style:{color:"black"},value:t,selected:e.state.tag==t},t)})),r.a.createElement(le.a,{color:"primary",type:"submit"},"Post"),r.a.createElement(le.a,{color:"secondary",onClick:this.toggle},"Cancel"))))))),r.a.createElement(ge.a,{className:"align-items-center table-flush",responsive:!0},r.a.createElement("thead",{className:"thead-light"},r.a.createElement("tr",null,r.a.createElement("th",{scope:"col"},"Title"),r.a.createElement("th",{scope:"col"},"Replies"),r.a.createElement("th",{scope:"col"},"Tag"),r.a.createElement("th",{scope:"col"},"Status"),r.a.createElement("th",{scope:"col"},"User"),r.a.createElement("th",{scope:"col"},"Creation Date"),r.a.createElement("th",{scope:"col"}))),r.a.createElement("tbody",null,n)))))))}}]),t}(r.a.Component),Ue=a(140),Le=a(1129),ze=a(1131),Me=a(1126),Pe=a(1134),Re=a(1108),Fe=a(1109),Be=(a(994),a(508)),Ge=a(222),He=a(125),We=a(223),Je=a.n(We),Ke=(a(412),a(413),function(e){function t(){var e;return Object(m.a)(this,t),(e=Object(p.a)(this,Object(g.a)(t).call(this))).onEditorStateChange=function(t){console.log(t),e.setState({editorState:t})},e.state={post:null,post_id:"",users_info:{},current_user:{},editorState:He.EditorState.createEmpty()},e}return Object(h.a)(t,e),Object(d.a)(t,[{key:"componentWillMount",value:function(){var e=this,t=this.props.location.pathname.split("/"),a=t[t.length-1];this.setState({post_id:a}),S.a.get("/api/posts/".concat(a),{headers:{Authorization:localStorage.getItem("token")}}).then(function(t){if(200===t.status){var a=t.data;e.setState({post:a.post});for(var n=a.post.replies,r=function(t){var a=n[t].username;S.a.get("/api/users/?name=".concat(a),{headers:{Authorization:localStorage.getItem("token")}}).then(function(t){if(200===t.status){var n=t.data.users[0],r=Object(Ue.a)({},e.state.users_info,Object($.a)({},a,n));e.setState({users_info:r})}})},o=0;o<n.length;o++)r(o);console.log("USERS"),console.log(e.state.users_info)}else console.log("Unable to get this post by id");S.a.get("/api/users?name=".concat(e.props.name),{headers:{Authorization:localStorage.getItem("token")}}).then(function(t){if(200===t.status){var a=t.data.users[0];e.setState({current_user:a})}else console.log("Unable to get all posts")})})}},{key:"onSubmit",value:function(e){var t=this;return function(a){a.preventDefault();var n={content:e,username:t.props.name};t.setState({reply_content:""}),fetch("/api/posts/".concat(t.state.post_id,"/replies"),{method:"POST",body:JSON.stringify({replies:[n]}),headers:{"Content-Type":"application/json",Authorization:localStorage.getItem("token")}}).then(function(e){200===e.status?(S.a.get("/api/posts/".concat(t.state.post_id),{headers:{Authorization:localStorage.getItem("token")}}).then(function(e){if(200===e.status){var a=e.data;t.setState({post:a.post})}t.changeUserPoints(10,t.props.name)}),console.log("Success")):alert("Unable to submit reply. Please try again.")}).catch(function(e){alert("Wrong Email or Password, please try again later")})}}},{key:"isLoggedIn",value:function(){return"Guest"!==this.props.name}},{key:"removeOnClick",value:function(e,t){var a=this;S.a.delete("/api/posts/".concat(this.state.post_id,"/replies/").concat(e),{headers:{Authorization:localStorage.getItem("token")}}).then(function(e){200===e.status?(a.changeUserPoints(-15,t),S.a.get("/api/posts/".concat(a.state.post_id),{headers:{Authorization:localStorage.getItem("token")}}).then(function(e){if(200===e.status){var t=e.data;a.setState({post:t.post})}else console.log("Unable to get this post by id")})):console.log("Unable to Delete this reply")})}},{key:"changeUserPoints",value:function(e,t){var a=this,n=t;S.a.get("/api/users?name=".concat(n),{headers:{Authorization:localStorage.getItem("token")}}).then(function(t){if(200===t.status){var r=t.data.users;if(r.length>0){var o=r[0],l=o._id,s=o.points+e;S.a.patch("/api/users/".concat(l),{points:s},{headers:{Authorization:localStorage.getItem("token")}}).then(function(t){200===t.status&&(a.setState({liked:!0}),console.log("Succesfully incremenet points of user: ".concat(n," by ").concat(e)))})}}})}},{key:"getUser",value:function(e){return this.state.users_info[e]?(console.log(this.state.users_info[e]),console.log("USER DETAILS"),this.state.users_info[e]):{}}},{key:"render",value:function(){var e=this,t=this.isLoggedIn();if(null===this.state.post)return null;var a=this.state.post.replies,n=this.state.editorState,o=a.map(function(a){var n=a.username===e.props.name;return r.a.createElement(Le.a,{className:"row"},r.a.createElement(ze.a,{className:"col-md-2 col-lg-2",style:{maxHeight:"45vh"}},r.a.createElement(fe.a,{src:"https://ui-avatars.com/api/?background=0D8ABC&color=fff&bold=true&name=".concat(a.username),wrapped:!0,ui:!1}),r.a.createElement(ze.a.Content,null,r.a.createElement(ze.a.Header,{style:e.getUser(a.username).points>999?{color:"blue"}:e.getUser(a.username).points>699?{color:"orange"}:e.getUser(a.username).points>499?{color:"gray"}:{}},a.username),r.a.createElement(ze.a.Meta,null,r.a.createElement("span",{className:"date"},Oe.a.parseZone(a.timestamp).local().fromNow())),r.a.createElement(ze.a.Description,{style:"USER"===e.getUser(a.username).userType?{backgroundColor:"#4D87C1",borderRadius:"5px"}:"Steward"===e.getUser(a.username).userType?{backgroundColor:"#DAA520",borderRadius:"5px"}:"MOD"===e.getUser(a.username).userType?{backgroundColor:"#DAA520",borderRadius:"5px"}:{display:"none"}},r.a.createElement("p",{className:"text-center",style:{fontWeight:"bold",color:"white"}},e.getUser(a.username).userType)),r.a.createElement(ze.a.Description,{style:"ADMIN"===e.getUser(a.username).userType?{backgroundColor:"#FF2322",borderRadius:"5px"}:{display:"none"}},r.a.createElement("p",{className:"text-center",style:{fontWeight:"bold",color:"white"}},"TEAM")),r.a.createElement(ze.a.Description,{style:"ADMIN"===e.getUser(a.username).userType?{backgroundColor:"white",borderRadius:"5px",paddingTop:"5%"}:{}}),r.a.createElement(ze.a.Description,{style:"ADMIN"===e.getUser(a.username).userType?{backgroundColor:"#2dce89",borderRadius:"5px"}:(e.getUser(a.username).userType,{display:"none"})},r.a.createElement("p",{className:"text-center",style:{fontWeight:"bold",color:"white"}},"LEGEND")),r.a.createElement("br",null),r.a.createElement(C.a,{to:{pathname:"/admin/profile/"+e.getUser(a.username)._id},style:{textDecoration:"none"}},r.a.createElement(ze.a.Description,{style:{backgroundColor:"#CFA7A7",borderRadius:"5px"}},r.a.createElement("p",{className:"text-center",style:{fontWeight:"bold",color:"black"}},"User Profile")))),r.a.createElement(ze.a.Content,{extra:!0},r.a.createElement(ae.a,{icon:Be.a}),r.a.createElement("span",{style:{paddingLeft:"5%",paddingRight:"14%"}},e.getUser(a.username).points),r.a.createElement(ae.a,{icon:te.a}),r.a.createElement("span",{style:{paddingLeft:"5%"}},e.getUser(a.username).level))),r.a.createElement(Le.a.Content,{className:"col-md-10 col-lg-10",style:{paddingLeft:"10%"}},r.a.createElement(Le.a.Text,{style:{fontSize:"130%"}},r.a.createElement("div",{dangerouslySetInnerHTML:{__html:a.content}})),r.a.createElement(Le.a.Actions,null,r.a.createElement(Le.a.Action,null,r.a.createElement("span",{style:n||!t?{display:"none"}:{}},r.a.createElement("i",{className:"ni ni-like-2"}),r.a.createElement("span",{style:e.props.name!==e.state.post.username?{display:"none"}:{paddingRight:"10%"}},r.a.createElement("a",{onClick:function(){return e.changeUserPoints(10,a.username)}},"Love"))),r.a.createElement("span",{style:n&&t||e.state.current_user&&e.state.current_user.userType&&"ADMIN"===e.state.current_user.userType?{}:{display:"none"}},r.a.createElement("a",{onClick:function(){return e.removeOnClick(a._id,a.username)}},"Remove ")),r.a.createElement("span",{style:e.state.current_user&&e.state.current_user.userType&&"MOD"===e.state.current_user.userType?{}:{display:"none"}},r.a.createElement("a",{onClick:function(){return e.removeOnClick(a._id,a.username)}},"Remove "))))),r.a.createElement("b",{className:"hrr anim"}))});return r.a.createElement(r.a.Fragment,null,r.a.createElement(ve,null),r.a.createElement(f.a,{className:"mt--7",fluid:!0},r.a.createElement(R.a,null,r.a.createElement(de.a,{body:!0},r.a.createElement(pe.a,{className:"text-primary",style:{fontSize:"200%"}},this.state.post.title),"Created By ",this.state.post.username," ",Oe.a.parseZone(this.state.post.timestamp).local().fromNow(),r.a.createElement(ye.a,null,r.a.createElement("div",null,r.a.createElement(Re.a,{style:{fontSize:"130%",mariginRight:"25%",lineHeight:"1.5"}},this.state.post.content)),r.a.createElement(Le.a.Metadata,null,r.a.createElement("div",null)),r.a.createElement(Le.a.Group,{size:"large",style:{maxWidth:"80%"}},r.a.createElement("b",{className:"hrr anim"}),o,r.a.createElement(Me.a,{style:this.state.post.readOnly||!0===this.state.post.readOnly?{display:"none"}:{},reply:!0,onSubmit:this.onSubmit(Je()(Object(He.convertToRaw)(n.getCurrentContent())))},r.a.createElement(Ge.Editor,{placeholder:"Enter Text to reply to this post",toolbarClassName:"toolbarClassName",wrapperClassName:"wrapperClassName",editorClassName:"editorClassName",onEditorStateChange:this.onEditorStateChange}),r.a.createElement(Fe.a,{style:t?{display:"none"}:{},color:"dark"},"You have to login in order to reply to this post"),r.a.createElement(Pe.a,{disabled:!t||!0===this.state.post.readOnly,content:"Add Comment",primary:!0}))))))))}}]),t}(r.a.Component)),Ye=a(1130),qe=a(1132),Ve=a(499),Xe=a(1128),Ze=a(515),$e=[{value:"bs",label:"Breakfast Sandwiches",color:"#00B8D9",isFixed:!0},{value:"bagels",label:"Bagels",color:"#0052CC"},{value:"donuts",label:"Donuts",color:"#5243AA"},{value:"juice",label:"Juice",color:"#FF5630",isFixed:!0},{value:"pancakes",label:"Pancakes",color:"#FF8B00"},{value:"soup",label:"Soup",color:"#FFC400"},{value:"noodles",label:"Noodles",color:"#36B37E"},{value:"freezies",label:"Freezies",color:"#00875A"},{value:"ic",label:"Ice Cream",color:"#253858"},{value:"hashbrowns",label:"Hashbrowns",color:"#666666"}],Qe=a(1115),et=function(e){function t(){var e;return Object(m.a)(this,t),(e=Object(p.a)(this,Object(g.a)(t).call(this))).handleInputChange=function(t){var a=t.target,n=a.value,r=a.name;e.setState(Object($.a)({},r,n))},e.onNewAnnouncement=function(t){t.preventDefault();var a=e.props.location.pathname.split("/"),n=a[a.length-1];t.preventDefault(),S.a.post("/api/groups/".concat(n,"/announcements"),{announcement:{content:e.state.new_announcement}},{headers:{Authorization:localStorage.getItem("token")}}).then(function(t){200===t.status?(console.log("successfully added new announcement"),S.a.get("/api/groups/".concat(n),{headers:{Authorization:localStorage.getItem("token")}}).then(function(t){if(200===t.status){var a=t.data;e.setState({group:a.group})}else console.log("Unable to get this group")}),e.setState({new_announcement:""})):console.log("Unable to add new announcement")})},e.onGroupHeadEdit=function(t,a){if(t.preventDefault(),!e.checkProperties(a)){var n=e.props.location.pathname.split("/"),r=n[n.length-1];console.log("will make request"),S.a.put("/api/groups/grouphead/".concat(r,"/"),Object(Ue.a)({},a),{headers:{Authorization:localStorage.getItem("token")}}).then(function(t){200===t.status?(console.log("successfully added new description"),S.a.get("/api/groups/".concat(r)).then(function(t){if(200===t.status){var a=t.data;e.setState({group:a.group})}else console.log("Unable to get this group")}),e.setState({new_description:""})):console.log("Unable to add new description")})}},e.state={new_description:"",new_announcement:"",new_houseman:"",toggle:!1,new_content:"",new_date:"",new_icon:"",modal_eventKey:"",modal_content:"",modal_date:"",modal_icon:"",group:{description:"",members:[],_id:"",houseman:"",title:"",eventOne:"",eventTwo:"",eventThree:"",eventFour:"",eventFive:"",eventSix:"",announcements:[{}]},current_user:{groups:[{groupID:"",memberType:"",_id:""}]}},e}return Object(h.a)(t,e),Object(d.a)(t,[{key:"componentWillMount",value:function(){var e=this,t=this.props.location.pathname.split("/"),a=t[t.length-1];S.a.get("/api/groups/".concat(a),{headers:{Authorization:localStorage.getItem("token")}}).then(function(t){if(200===t.status){var a=t.data;e.setState({group:a.group})}else console.log("Unable to get this group");S.a.get("/api/users?name=".concat(e.props.name),{headers:{Authorization:localStorage.getItem("token")}}).then(function(t){if(200===t.status){var a=t.data.users[0];e.setState({current_user:a})}else console.log("Unable to get current user")})})}},{key:"checkProperties",value:function(e){for(var t in console.log(e),e)return null!==e[t]&&""!=e[t]&&console.log("object is empty"),!1;return!0}},{key:"checkGroupAdmin",value:function(){for(var e=this.props.location.pathname.split("/"),t=e[e.length-1],a=this.state.current_user.groups,n=0;n<a.length;n++){var r=a[n];if(r.groupID===t)return"GROUPHEAD"===r.memberType}return!1}},{key:"render",value:function(){var e=this;console.table(this.state);var t=function(t){return e.setState({modal:!e.state.modal,modal_content:t.modal_content,modal_eventKey:t.modal_eventKey,modal_date:t.modal_date,modal_icon:t.modal_icon,new_icon:t.new_icon})},a=this.state.group.members.map(function(e){return r.a.createElement(Ye.a.Item,null,r.a.createElement(fe.a,{avatar:!0,src:"https://react.semantic-ui.com/images/avatar/small/christian.jpg"}),r.a.createElement(Ye.a.Content,null,r.a.createElement(Ye.a.Header,null,e)))}),n=null;this.state.group.announcements.length>0&&(n=r.a.createElement(Fe.a,{style:{fontSize:"150%"},color:"primary"},this.state.group.announcements[this.state.group.announcements.length-1].content));var o=null;this.state.group.announcements.length>0&&(o=r.a.createElement(Fe.a,{style:{fontSize:"150%"},color:"warning"},"Please vote for your favorite house breakfast next week."));var l=null;this.state.group.announcements.length>0&&(l=r.a.createElement(Fe.a,{style:{fontSize:"150%"},color:"info"},"Recent and Upcoming House Sports Events!"));var s=[{menuItem:"Announcements",render:function(){return r.a.createElement(qe.a.Pane,null,n,r.a.createElement(x.a,{style:e.checkGroupAdmin()?{}:{display:"none"},onSubmit:e.onNewAnnouncement},r.a.createElement(Ve.a,null,r.a.createElement(ue.a,{for:"new_announcement"},"Post an announcement"),r.a.createElement(V.a,{name:"new_announcement",placeholder:"sample announcement",value:e.state.new_announcement,onChange:e.handleInputChange}),r.a.createElement(le.a,{type:"submit"},"Submit"))),r.a.createElement(Qe.a,{style:{height:"400px"}},r.a.createElement("h1",null,"House Description:"),r.a.createElement("div",{class:"col-6",style:{float:"left",clear:"none",textAlign:"left"}},r.a.createElement("p",{className:"lead"},e.state.group.description),r.a.createElement(x.a,{style:e.checkGroupAdmin()?{}:{display:"none"},onSubmit:function(t){return e.onGroupHeadEdit(t,{description:e.state.new_description})}},r.a.createElement(Ve.a,null,r.a.createElement(ue.a,{for:"new_description"},"Edit Description"),r.a.createElement(V.a,{name:"new_description",placeholder:"sample description",style:{width:"50%",marginBottom:"3px"},value:e.state.new_description,onChange:e.handleInputChange}),r.a.createElement(le.a,{type:"submit"},"Submit")))),r.a.createElement("div",{class:"col-6",style:{float:"left",clear:"none",textAlign:"center",height:"100%",border:"3px solid black",borderRadius:"30px"}},r.a.createElement("div",{style:{padding:"30px"}},r.a.createElement("h3",null,"HOUSE MAN OF THE WEEK"),r.a.createElement("h4",{style:{fontSize:"30px"}},e.state.group.houseman),r.a.createElement(x.a,{style:e.checkGroupAdmin()?{}:{display:"none"},onSubmit:function(t){return e.onGroupHeadEdit(t,{houseman:e.state.new_houseman})}},r.a.createElement("hr",null),r.a.createElement(Ve.a,null,r.a.createElement(ue.a,{for:"houseman"},"Edit HOUSEMAN"),r.a.createElement(V.a,{name:"new_houseman",placeholder:"houseman name",style:{width:"50%",margin:"auto"},value:e.state.new_houseman,onChange:e.handleInputChange}),r.a.createElement(le.a,{type:"submit"},"Submit")))))))}},{menuItem:"House Breakfast",render:function(){return r.a.createElement(qe.a.Pane,null,o,r.a.createElement(Ze.a,{defaultValue:[$e[2]],isMulti:!0,name:"colors",options:$e,className:"basic-multi-select",classNamePrefix:"select"}),r.a.createElement(le.a,{style:{backgroundColor:"#00FF00",color:"white",marginTop:"3px"}},"Submit"))}},{menuItem:"House Sports",render:function(){return r.a.createElement(qe.a.Pane,null,l,r.a.createElement(de.a,null,r.a.createElement(Xe.a,null,r.a.createElement(Xe.a.Event,null,r.a.createElement(Xe.a.Label,{image:"/icons/".concat(e.state.group.eventOne.icon,".png")}),r.a.createElement(Xe.a.Content,null,r.a.createElement(Xe.a.Date,{style:{color:"blue"},content:e.state.group.eventOne.date}),r.a.createElement(Xe.a.Summary,null,r.a.createElement("a",null,e.state.group.eventOne.description)),r.a.createElement(le.a,{color:"danger",onClick:function(){return t({modal_content:e.state.group.eventOne.description,modal_date:e.state.group.eventOne.date,modal_eventKey:"eventOne",modal_icon:e.state.group.eventOne.icon,new_icon:e.state.group.eventOne.icon})}},"EDIT"),r.a.createElement("div",null,r.a.createElement(se.a,{isOpen:e.state.modal,toggle:t},r.a.createElement(ce.a,{toggle:t},"Update Notification"),r.a.createElement(ie.a,null,r.a.createElement(ue.a,null,"Icon"),r.a.createElement("br",null),r.a.createElement("select",{className:"custom-select col-8",style:{color:"black"},onChange:function(t){return e.setState({new_icon:t.target.value})}},["basketball","football","hockey","volley","baseball"].map(function(t){return r.a.createElement("option",{style:{color:"black"},value:t,selected:e.state.modal_icon==t},t)})),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement(ue.a,null,"Date"),r.a.createElement(V.a,{placeholder:e.state.modal_date,onChange:function(t){return e.setState({new_date:t.target.value})}}),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement(ue.a,null,"Content"),r.a.createElement(V.a,{placeholder:e.state.modal_content,onChange:function(t){return e.setState({new_content:t.target.value})}})),r.a.createElement(me.a,null,r.a.createElement(le.a,{color:"primary",onClick:function(t){e.setState({modal:!1}),e.onGroupHeadEdit(t,Object($.a)({},e.state.modal_eventKey,{description:e.state.new_content,icon:e.state.new_icon,date:e.state.new_date}))}},"Edit")," ",r.a.createElement(le.a,{color:"secondary",onClick:function(){return e.setState({modal:!1})}},"Cancel")))))),r.a.createElement(Xe.a.Event,null,r.a.createElement(Xe.a.Label,{image:"/icons/".concat(e.state.group.eventTwo.icon,".png")}),r.a.createElement(Xe.a.Content,null,r.a.createElement(Xe.a.Date,{style:{color:"blue"},content:e.state.group.eventTwo.date}),r.a.createElement(Xe.a.Summary,null,r.a.createElement("a",null,e.state.group.eventTwo.description)),r.a.createElement(le.a,{color:"danger",onClick:function(){return t({modal_content:e.state.group.eventTwo.description,modal_date:e.state.group.eventTwo.date,modal_eventKey:"eventTwo",modal_icon:e.state.group.eventTwo.icon,new_icon:e.state.group.eventTwo.icon})}},"EDIT"))),r.a.createElement(Xe.a.Event,null,r.a.createElement(Xe.a.Label,{image:"/icons/".concat(e.state.group.eventThree.icon,".png")}),r.a.createElement(Xe.a.Content,null,r.a.createElement(Xe.a.Date,{style:{color:"blue"},content:e.state.group.eventThree.date}),r.a.createElement(Xe.a.Summary,null,e.state.group.eventThree.description),r.a.createElement(le.a,{color:"danger",onClick:function(){return t({modal_content:e.state.group.eventThree.description,modal_date:e.state.group.eventThree.date,modal_eventKey:"eventThree",modal_icon:e.state.group.eventThree.icon,new_icon:e.state.group.eventThree.icon})}},"EDIT"))),r.a.createElement(Xe.a.Event,null,r.a.createElement(Xe.a.Label,{image:"/icons/".concat(e.state.group.eventFour.icon,".png")}),r.a.createElement(Xe.a.Content,null,r.a.createElement(Xe.a.Date,{style:{color:"blue"},content:e.state.group.eventFour.date}),r.a.createElement(Xe.a.Summary,null,e.state.group.eventFour.description),r.a.createElement(le.a,{color:"danger",onClick:function(){return t({modal_content:e.state.group.eventFour.description,modal_date:e.state.group.eventFour.date,modal_eventKey:"eventFour",modal_icon:e.state.group.eventFour.icon,new_icon:e.state.group.eventFour.icon})}},"EDIT"))),r.a.createElement(Xe.a.Event,null,r.a.createElement(Xe.a.Label,{image:"/icons/".concat(e.state.group.eventFive.icon,".png")}),r.a.createElement(Xe.a.Content,null,r.a.createElement(Xe.a.Date,{style:{color:"blue"},content:e.state.group.eventFive.date}),r.a.createElement(Xe.a.Summary,null,e.state.group.eventFive.description),r.a.createElement(le.a,{color:"danger",onClick:function(){return t({modal_content:e.state.group.eventFive.description,modal_date:e.state.group.eventFive.date,modal_eventKey:"eventFive",modal_icon:e.state.group.eventFive.icon,new_icon:e.state.group.eventFive.icon})}},"EDIT"))),r.a.createElement(Xe.a.Event,null,r.a.createElement(Xe.a.Label,{image:"/icons/".concat(e.state.group.eventSix.icon,".png")}),r.a.createElement(Xe.a.Content,null,r.a.createElement(Xe.a.Date,{style:{color:"blue"},content:e.state.group.eventSix.date}),r.a.createElement(Xe.a.Summary,null,e.state.group.eventSix.description),r.a.createElement(le.a,{color:"danger",onClick:function(){return t({modal_content:e.state.group.eventSix.description,modal_date:e.state.group.eventSix.date,modal_eventKey:"eventSix",modal_icon:e.state.group.eventSix.icon,new_icon:e.state.group.eventSix.icon})}},"EDIT"))))))}},{menuItem:"Members",render:function(){return r.a.createElement(qe.a.Pane,null,r.a.createElement(Ye.a,{animated:!0,verticalAlign:"middle"},a))}}];return r.a.createElement(r.a.Fragment,null,r.a.createElement(ve,null),r.a.createElement(f.a,{className:"mt--7",fluid:!0},r.a.createElement("div",{className:"col"},r.a.createElement(de.a,{className:"shadow"},r.a.createElement("div",null,r.a.createElement("h2",{style:{marginBottom:"2%",marginTop:"1%",marginLeft:"1%"}},this.state.group.title)),r.a.createElement(qe.a,{panes:s})),r.a.createElement(Qe.a,null,r.a.createElement("p",{className:"lead"},this.state.group.title," Head and Prefix"),r.a.createElement("h1",null,this.state.group.one),r.a.createElement("p",null,this.state.group.two)))))}}]),t}(r.a.Component),tt=(a(711),a(142)),at=function(e){function t(){var e;return Object(m.a)(this,t),(e=Object(p.a)(this,Object(g.a)(t).call(this))).onEditorStateChange=function(t){console.log(t),e.setState({editorState:t})},e.state={data:[],title:"",editorState:He.EditorState.createEmpty(),current_user:{points:0,userType:"",_id:""}},e}return Object(h.a)(t,e),Object(d.a)(t,[{key:"componentWillMount",value:function(){var e=this;S.a.get("/api/stewards/").then(function(t){200===t.status&&e.setState({data:t.data.stewardsAnnounce})});var t=localStorage.getItem("username");console.log(t),console.log("/api/users?name=".concat(t)),S.a.get("/api/users?name=".concat(t),{headers:{Authorization:localStorage.getItem("token")}}).then(function(t){if(200===t.status){console.log(t.data);var a=t.data.users[0];e.setState({current_user:a}),console.log(a),console.log(e.state.current_user)}else console.log("Unable to get current user")})}},{key:"onSubmit",value:function(e,t){var a=this;return function(n){n.preventDefault(),console.log(e,t),fetch("/api/stewards/".concat(t),{method:"PUT",body:JSON.stringify({title:a.state.title,content:e}),headers:{"Content-Type":"application/json",Authorization:localStorage.getItem("token")}}).then(function(){var e=Object(b.a)(v.a.mark(function e(t){var n,r;return v.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(200!==t.status){e.next=8;break}return e.next=3,t.json();case 3:n=e.sent,r=a.state.data.map(function(e){return e._id==n._id?Object(Ue.a)({},e,{content:n.content,title:n.title}):e}),a.setState({data:r}),e.next=9;break;case 8:alert("Unable to submit reply. Please try again.");case 9:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()).catch(function(e){alert("Wrong Email or Password, please try again later")})}}},{key:"render",value:function(){var e=this,t=this.state.editorState;return console.log(this.state),r.a.createElement(r.a.Fragment,null,r.a.createElement(ve,null),r.a.createElement(f.a,{className:"mt--7",fluid:!0},r.a.createElement(R.a,null,r.a.createElement("div",{className:"col"},r.a.createElement(de.a,{className:"shadow"},r.a.createElement(pe.a,null,r.a.createElement("h1",{className:"text-center"},"Stewards Announcements")),r.a.createElement("div",{className:"menuWrapper"},r.a.createElement("div",{style:{paddingTop:""}},r.a.createElement("img",{className:"img6"})),r.a.createElement("div",{className:"row"},this.state.data.map(function(a){return r.a.createElement("div",{className:"col-4",style:{paddingTop:"0.5%"}},r.a.createElement(tt.PricingSlot,{title:a.title},r.a.createElement("div",{id:"price1"},r.a.createElement("div",null,r.a.createElement(Le.a.Text,{style:{fontSize:"130%"}},r.a.createElement("div",{dangerouslySetInnerHTML:{__html:a.content}}))))),r.a.createElement("input",{className:"form-control",placeholder:a.title,onChange:function(t){return e.setState({title:t.target.value})},style:"ADMIN"!==e.state.current_user.userType?{display:"none"}:{}}),r.a.createElement(Me.a,{style:"ADMIN"!==e.state.current_user.userType?{display:"none"}:{width:"100%"},reply:!0,onSubmit:e.onSubmit(Je()(Object(He.convertToRaw)(t.getCurrentContent())),a._id)},r.a.createElement(Ge.Editor,{placeholder:"Enter Text to edit "+a.title,toolbarClassName:"toolbarClassName",wrapperClassName:"wrapperClassName",editorClassName:"editorClassName",onEditorStateChange:e.onEditorStateChange}),r.a.createElement(Pe.a,{content:"Edit",primary:!0,style:"ADMIN"!==e.state.current_user.userType?{display:"none"}:{}})))}))))))))}}]),t}(r.a.Component),nt=a(1127),rt=a(1138),ot=(a(816),function(e){function t(){var e;return Object(m.a)(this,t),(e=Object(p.a)(this,Object(g.a)(t).call(this))).state={},e}return Object(h.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(ve,null),r.a.createElement(f.a,{className:"mt--7",fluid:!0},r.a.createElement(R.a,null,r.a.createElement("div",{className:"col"},r.a.createElement(de.a,{className:"shadow"},r.a.createElement(pe.a,null,r.a.createElement("h1",{className:"text-center"},"Landing Page")),r.a.createElement("div",{className:"menuWrapper"},r.a.createElement("div",{style:{paddingTop:""}},r.a.createElement("img",{className:"img3"})),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-4",style:{paddingTop:"0.5%"}},r.a.createElement(tt.PricingSlot,{title:"ManageBac"},r.a.createElement("div",{className:"electionClickable"},r.a.createElement("div",null,r.a.createElement("a",{href:"https://ucc.managebac.com"},r.a.createElement("span",{className:"text"},r.a.createElement("img",{src:"https://pbs.twimg.com/profile_images/879283732603166720/yUntnbs1.jpg",style:{paddingRight:"22%",marginLeft:"6%"}}))),r.a.createElement("div",{className:"frame col-xs-6"}))),r.a.createElement(nt.a,{trigger:r.a.createElement(le.a,{className:"electionButton"},"Specific Links")},r.a.createElement(nt.a.Header,null,"Specific Links"),r.a.createElement(nt.a.Content,{image:!0},r.a.createElement(nt.a.Description,null,r.a.createElement(rt.a,null,"Specific Links"),r.a.createElement("a",{href:"https://ucc.managebac.com/student",style:{fontSize:"50px",paddingLeft:"25%"}},"Student HomePage")," ",r.a.createElement("br",null),r.a.createElement("a",{href:"https://ucc.managebac.com/login",style:{fontSize:"50px",paddingLeft:"30%"}}," Student Login"),r.a.createElement("br",null),r.a.createElement("a",{href:"https://ucc.managebac.com/student/calendar",style:{fontSize:"50px",paddingLeft:"36%"}},"Calendar"),r.a.createElement("br",null),r.a.createElement("a",{href:"https://ucc.managebac.com/student/ib/activity/cas",style:{fontSize:"50px",paddingLeft:"43%"}},"CAS")))))),r.a.createElement("div",{className:"col-4",style:{paddingTop:"0.5%"}},r.a.createElement(tt.PricingSlot,{title:"PowerSchool"},r.a.createElement("div",{className:"electionClickable"},r.a.createElement("div",null,r.a.createElement("a",{href:"https://ucc.learning.powerschool.com"},r.a.createElement("span",{className:"text"},r.a.createElement("img",{src:"http://www.powerschool.com/wp-content/uploads/2018/12/powerschool-logo-vertical.png",style:{paddingRight:"22%",paddingTop:"15%",paddingBottom:"25%",marginLeft:"6%"}}))),r.a.createElement("div",{className:"frame col-xs-6"}))),r.a.createElement(nt.a,{trigger:r.a.createElement(le.a,{className:"electionButton"},"Specific Links")},r.a.createElement(nt.a.Header,null,"Specific Links"),r.a.createElement(nt.a.Content,{image:!0},r.a.createElement(nt.a.Description,null,r.a.createElement(rt.a,null,"Specific Links"),r.a.createElement("a",{href:"https://ucc.learning.powerschool.com",style:{fontSize:"50px",paddingLeft:"30%"}},"Student Portal")," ",r.a.createElement("br",null),r.a.createElement("a",{href:"https://ucc.learning.powerschool.com/_jmclean__1505334879_/cfl/cms_page/view",style:{fontSize:"50px",paddingLeft:"24%"}}," Center For Learning"),r.a.createElement("br",null),r.a.createElement("a",{href:"https://ucc.learning.powerschool.com/mroughneen/libraryonlineresources/cms_page/view",style:{fontSize:"50px",paddingLeft:"26%"}},"Library Resources"),r.a.createElement("br",null)))))),r.a.createElement("div",{className:"col-4",style:{paddingTop:"0.5%"}},r.a.createElement(tt.PricingSlot,{title:"UCC Athletics"},r.a.createElement("div",{className:"electionClickable"},r.a.createElement("div",null,r.a.createElement("a",{href:"https://www.ucc.on.ca/athletics/ucc-teams"},r.a.createElement("span",{className:"text"},r.a.createElement("img",{src:"https://upload.wikimedia.org/wikipedia/en/thumb/7/7a/Upper_Canada_College_Crest.svg/1200px-Upper_Canada_College_Crest.svg.png",style:{paddingRight:"22%",paddingTop:"0%",paddingBottom:"7%",marginLeft:"6%"}}))),r.a.createElement("div",{className:"frame col-xs-6"}))),r.a.createElement(nt.a,{trigger:r.a.createElement(le.a,{className:"electionButton"},"Specific Links")},r.a.createElement(nt.a.Header,null,"Specific Links"),r.a.createElement(nt.a.Content,{image:!0},r.a.createElement(nt.a.Description,null,r.a.createElement(rt.a,null,"Specific Links"),r.a.createElement("a",{href:"https://www.ucc.on.ca/athletics",style:{fontSize:"50px",paddingLeft:"30%"}},"What is Athletics At UCC?")," ",r.a.createElement("br",null),r.a.createElement("a",{href:"https://www.ucc.on.ca/athletics/ucc-teams",style:{fontSize:"50px",paddingLeft:"24%"}}," UCC Teams"),r.a.createElement("br",null),r.a.createElement("a",{href:"https://www.ucc.on.ca/athletics/blues-booster-club",style:{fontSize:"50px",paddingLeft:"26%"}},"Blues Booster Club"),r.a.createElement("br",null),r.a.createElement("a",{href:"https://ucc.gameonstream.com/  ",style:{fontSize:"50px",paddingLeft:"26%"}},"UCC Live"),r.a.createElement("br",null)))))))))))))}}]),t}(r.a.Component)),lt=function(e){function t(){var e;return Object(m.a)(this,t),(e=Object(p.a)(this,Object(g.a)(t).call(this))).handleInputChange=function(t){var a=t.target,n=a.value,r=a.name;e.setState(Object($.a)({},r,n))},e.onSubmit=function(t){t.preventDefault(),S.a.patch("/api/users/".concat(e.state.current_user._id),{password:e.state.password},{headers:{Authorization:localStorage.getItem("token")}}).then(function(t){200===t.status&&(console.log("Password changed successfully"),e.setState({goodChange:!0}))})},e.onDescription=function(t){t.preventDefault(),S.a.patch("/api/users/".concat(e.state.current_user._id),{description:e.state.description},{headers:{Authorization:localStorage.getItem("token")}}).then(function(t){200===t.status&&(console.log("Password changed successfully"),e.setState({goodChangeA:!0}))})},e.state={current_user:{points:0,userType:"",_id:""},password:"",description:"",goodChange:!1,goodChangeA:!1},e}return Object(h.a)(t,e),Object(d.a)(t,[{key:"componentWillMount",value:function(){var e=this;console.log(this.props.name);var t=localStorage.getItem("username");console.log(t),console.log("/api/users?name=".concat(t)),S.a.get("/api/users?name=".concat(t),{headers:{Authorization:localStorage.getItem("token")}}).then(function(t){if(200===t.status){console.log(t.data);var a=t.data.users[0];e.setState({current_user:a}),console.log(a),console.log(e.state.current_user)}else console.log("Unable to get current user")})}},{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(Se,{name:this.props.name}),r.a.createElement(f.a,{className:"mt--7",fluid:!0},r.a.createElement(R.a,null,r.a.createElement(F.a,{className:"order-xl-2 mb-5 mb-xl-0",xl:"4"},r.a.createElement(de.a,{className:"card-profile shadow"},r.a.createElement(R.a,{className:"justify-content-center"},r.a.createElement(F.a,{className:"order-lg-2",lg:"3"},r.a.createElement("div",{className:"card-profile-image"},r.a.createElement("a",{href:"#pablo",onClick:function(e){return e.preventDefault()}},r.a.createElement("img",{alt:"...",className:"rounded-circle",src:"https://ui-avatars.com/api/?size=160&background=0D8ABC&color=fff&bold=true&name=".concat(this.props.name)}))))),r.a.createElement(pe.a,{className:"text-center border-0 pt-8 pt-md-4 pb-0 pb-md-4"},r.a.createElement("div",{className:"d-flex justify-content-between"},r.a.createElement(le.a,{className:"mr-4",color:"info",href:"#pablo",onClick:function(e){return e.preventDefault()},size:"sm"},"Day Boy"),r.a.createElement(le.a,{className:"float-right",color:"default",href:"#pablo",onClick:function(e){return e.preventDefault()},size:"sm"},"Student"))),r.a.createElement(ye.a,{className:"pt-0 pt-md-4"},r.a.createElement(R.a,null,r.a.createElement("div",{className:"col"},r.a.createElement("div",{className:"card-profile-stats d-flex justify-content-center mt-md-5"},r.a.createElement("div",null,r.a.createElement("span",{className:"heading"},this.state.current_user.points),r.a.createElement("span",{className:"description"},"Points")),r.a.createElement("div",null,r.a.createElement("span",{className:"heading"},this.state.current_user.level),r.a.createElement("span",{className:"description"},"Level")),r.a.createElement("div",null,r.a.createElement("span",{className:"heading"},this.state.current_user.userType),r.a.createElement("span",{className:"description"},"User Type"))))),r.a.createElement("div",{className:"text-center"},r.a.createElement("h3",null,this.state.current_user.name),r.a.createElement("div",{className:"h5 font-weight-300"},r.a.createElement("i",{className:"ni location_pin mr-2"}),"Year : ",this.state.current_user.grade),r.a.createElement("hr",{className:"my-4"}),r.a.createElement("p",null,r.a.createElement("i",null,r.a.createElement("b",null," Bio:"),r.a.createElement("br",null),this.state.current_user.description)," "))))),r.a.createElement(F.a,{className:"order-xl-1",xl:"8"},r.a.createElement(de.a,{className:"bg-secondary shadow"},r.a.createElement(pe.a,{className:"bg-white border-0"},r.a.createElement(R.a,{className:"align-items-center"},r.a.createElement(F.a,{xs:"8"},r.a.createElement("h3",{className:"mb-0"},"My account")),r.a.createElement(F.a,{className:"text-right",xs:"4"},r.a.createElement(le.a,{color:"primary",href:"#pablo",onClick:function(e){return e.preventDefault()},size:"sm"},"Settings")))),r.a.createElement(ye.a,null,r.a.createElement(x.a,{onSubmit:this.onSubmit},r.a.createElement("h6",{className:"heading-small text-muted mb-4"},"User information"),r.a.createElement(he.a,{style:this.state.goodChange?{}:{display:"none"},positive:!0},r.a.createElement(he.a.Header,null,"Change Successful"),r.a.createElement("p",null,"Logout and Relogin to experience changes.")),r.a.createElement("div",{className:"pl-lg-4"},r.a.createElement(R.a,null,r.a.createElement(F.a,{lg:"6"},r.a.createElement(_.a,null,r.a.createElement("label",{className:"form-control-label"},"Password"),r.a.createElement(V.a,{className:"form-control-alternative",name:"password",value:this.state.password,type:"password",onChange:this.handleInputChange}),r.a.createElement(le.a,{className:"my-4",color:"primary",type:"submit"},"Change password"))))),r.a.createElement("hr",{className:"my-4"})),r.a.createElement(x.a,{onSubmit:this.onDescription},r.a.createElement(he.a,{style:this.state.goodChangeA?{}:{display:"none"},positive:!0},r.a.createElement(he.a.Header,null,"Change Successful"),r.a.createElement("p",null,"Revisit this page to experience changes.")),r.a.createElement("h6",{className:"heading-small text-muted mb-4"},"About me"),r.a.createElement("div",{className:"pl-lg-4"},r.a.createElement(_.a,null,r.a.createElement("label",null,"Edit Bio"),r.a.createElement(V.a,{className:"form-control-alternative",name:"description",placeholder:"A few words about you ...",rows:"4",value:this.state.description,type:"textarea",onChange:this.handleInputChange}),r.a.createElement(le.a,{className:"my-4",color:"primary",type:"submit"},"Change Bio"))))))))))}}]),t}(r.a.Component),st=a(305),ct=a.n(st),it=a(306),ut=a.n(it),mt=[{path:"/index",name:"Dashboard",icon:"ni ni-tv-2 text-primary",component:be,layout:"/admin"},{path:"/stewards",name:"Stewards Announcements",icon:"ni ni-album-2 text-purple",component:at,layout:"/admin"},{path:"/landing",name:"Landing",icon:"ni ni-send text-green",component:ot,layout:"/admin"},{path:"/user-profile",name:"User Profile",icon:"ni ni-single-02 text-yellow",component:lt,layout:"/admin"},{path:"/chat-room",name:"CHAT ROOM",icon:"ni ni-single-02 text-yellow",component:function(e){function t(e){var a;return Object(m.a)(this,t),a=Object(p.a)(this,Object(g.a)(t).call(this,e)),console.log(window.location.href),a.state={chatrooms:[],current_user:[],currentGroup:1,chats:[],messageController:"",currentUser:[],height:"",currentGroupName:"",uid:"",enabled:!1,mems:[],onlineMembers:[]},a}return Object(h.a)(t,e),Object(d.a)(t,[{key:"componentWillMount",value:function(){var e=this;localStorage.getItem("activeRoom")||localStorage.setItem("activeRoom","1");var t=localStorage.getItem("username");S.a.get("/api/users?name=".concat(t),{headers:{Authorization:localStorage.getItem("token")}}).then(function(t){if(200===t.status){var a=function(){!d.is(":focus")||""==d.val()||(new Date).getTime()-g.getTime()>h?M.database().ref("typingStatus").child(localStorage.getItem("activeRoom")).child(r).remove():M.database().ref("typingStatus").child(localStorage.getItem("activeRoom")).child(r).set({name:o})},n=t.data.users[0];e.setState({current_user:n});var r=e.state.current_user._id,o=e.state.current_user.name;e.setState({uid:r});var l={status:"offline",last_changed:M.database.ServerValue.TIMESTAMP},s={status:"online",last_changed:M.database.ServerValue.TIMESTAMP},c={name:e.state.current_user.name,online:!0},i={name:e.state.current_user.name,online:!1},u=M.database().ref("users/"+r+"/status"),m=M.database().ref("chatrooms/"+localStorage.getItem("activeRoom")+"/online/"+r);M.database().ref(".info/connected").on("value",function(e){0!=e.val()&&(m.onDisconnect().set(i).then(function(){m.set(c)}),u.onDisconnect().set(l).then(function(){u.set(s)}))}),M.database().ref("users").once("value",function(t){t.child(r).exists()?(e.setState({currentUser:t.child(r).val(),enabled:!0}),console.log(e.state.currentUser)):M.database().ref("users").child(r).set(e.state.current_user).then(function(e){return console.log("USER ADDED")}).catch(function(e){return console.log(e)})}),M.database().ref("typingStatus").child(localStorage.getItem("activeRoom")).on("value",function(t){var a="";console.log(t.val()),null!=t.val()?t.forEach(function(t){console.log(t.val().name),t.val().name!=e.state.current_user.name&&(a=a+" , "+t.val().name,p.text("".concat(a," is typing ... ")))}):p.text(" ")});var d=ut()("#textarea"),p=ut()("#typing_on"),g=new Date(0),h=5e3;console.log(r),d.keypress(function(){g=new Date}),d.blur(a),window.addEventListener("storage",function(e){console.log("this is it",e)}),console.log(window.innerHeight),e.setState({innerHeight:window.innerHeight-100+"px"}),setInterval(a,100),console.log(r)}else console.log("Unable to get current user")});var a=[];M.database().ref("chatrooms").once("value",function(t){e.setState({currentGroupName:t.val()[localStorage.getItem("activeRoom")].name,currentGroup:t.val()[localStorage.getItem("activeRoom")].id}),console.log(t.val()[1].id),t.forEach(function(e){console.log(e.val()),a.push(e.val())}),e.setState({chatrooms:a}),console.log(e.state.chatrooms)});var n=[];M.database().ref("chatrooms").child(localStorage.getItem("activeRoom")).child("chat").on("value",function(t){n=[],e.setState({chats:[]}),t.forEach(function(e){n.push(e.val())}),e.setState({chats:n}),console.log(e.state.chats)})}},{key:"componentDidMount",value:function(){var e=this,t=[],a=[];M.database().ref("chatrooms").child(localStorage.getItem("activeRoom")).child("members").once("value",function(n){try{Object.entries(n.val()).map(function(e){e[0];var a=e[1];console.log(a),t.push(a)})}catch(r){}console.log(t);try{t.forEach(function(e){M.database().ref("users").child(e._id).once("value",function(e){console.log(e.val()),a.push(e.val())})}),e.setState({mems:a})}catch(r){}}).then(function(e){}),M.database().ref("chatrooms").child(localStorage.getItem("activeRoom")).child("online").on("value",function(t){var a=[],n=[];console.log(t.val());try{Object.entries(t.val()).map(function(e){e[0];var t=e[1];console.log(t),a.push(t)}),a.forEach(function(e){console.log(e),e.online&&n.push(e)}),e.setState({onlineMembers:n}),console.log(e.state.onlineMembers)}catch(r){}})}},{key:"componentDidUpdate",value:function(){}},{key:"sendMsg",value:function(){if(""!=this.state.messageController){this.setState({messageController:""}),console.log("MSG SEND");var e=M.database().ref("chatrooms").child(this.state.currentGroup).child("chat").push();console.log(e.key),console.log(this.state.currentUser.name),M.database().ref("chatrooms").child(this.state.currentGroup).child("chat").child(e.key).set({msg:this.state.messageController,key:e.key,name:this.state.currentUser.name,from:this.state.currentUser._id}).then(function(e){})}else alert("EMPTY MESSAGE")}},{key:"render",value:function(){var e=this,t=Object(W.css)({height:700,overflowX:"hidden"}),a=Object(W.css)({color:"#fff",background:"#000",borderRadius:"10px",height:"30px",margin:"1rem",position:"relative",fontSize:"18px",boxShadow:"0 1px 3px rgba(0,0,0,0.12), 0 1px 2px rgba(0,0,0,0.24);"}),n=Object(W.css)({background:"#fff",borderRadius:"10px",height:"30px",margin:"1rem",fontSize:"18px",position:"relative",boxShadow:"0 1px 3px rgba(0,0,0,0.12), 0 1px 2px rgba(0,0,0,0.24);"}),o=this.state.chats.map(function(t){return t.name===e.state.current_user.name?r.a.createElement("div",{style:{marginTop:"10px",backgroundColor:"#00cc99                         ",color:"white",width:"fit-content",borderRadius:"10px",marginRight:"20px"}},r.a.createElement("div",{style:{margin:"8px",wordBreak:"break-all"}},r.a.createElement("b",{style:{marginBottom:"0px"}},t.name),r.a.createElement("p",{style:{marginTop:"0px"}},t.msg))):r.a.createElement("div",{style:{marginTop:"10px",backgroundColor:"#1D90C9",color:"white",width:"fit-content",borderRadius:"10px",marginRight:"20px"}},r.a.createElement("div",{style:{margin:"8px",wordBreak:"break-all"}},r.a.createElement("b",{style:{marginBottom:"0px"}},t.name),r.a.createElement("p",{style:{marginTop:"0px"}},t.msg)))}),l=this.state.mems.map(function(e){return console.log(e),r.a.createElement("div",{className:n},r.a.createElement("h4",{className:"text-center",style:{paddingTop:"4px"}},e.name))}),s=this.state.onlineMembers.map(function(e){return r.a.createElement("div",{className:n},r.a.createElement("h4",{className:"text-center",style:{paddingTop:"4px"}},e.name))});this.state.chatrooms.map(function(t){return r.a.createElement("div",{className:e.state.currentGroup==t.id?a:n,key:t.id,onClick:function(){var a=t.id;console.log(a),e.setState({currentGroup:a},function(){console.log(e.state.currentGroup),M.database().ref("chatrooms").child(e.state.currentGroup).once("value",function(t){e.setState({currentGroupName:t.val().name})});var t=[];M.database().ref("chatrooms").child(e.state.currentGroup).child("chat").on("value",function(a){t=[],e.setState({chats:[]}),a.forEach(function(e){t.push(e.val())}),e.setState({chats:t}),console.log(e.state.chats)})})}},r.a.createElement("h4",{className:"text-center",style:{paddingTop:"4px"}},t.name))});return r.a.createElement("div",null,r.a.createElement(ve,{name:this.props.name}),r.a.createElement(f.a,{style:{height:this.state.innerHeight,marginTop:"40px"}},r.a.createElement(R.a,{style:{backgroundColor:"#293031",height:"40px"}},r.a.createElement(f.a,null,r.a.createElement("h1",{style:{marginLeft:"20px",color:"#fff"}},this.state.currentGroupName))),r.a.createElement(R.a,null,r.a.createElement(F.a,{xs:"9",sm:"9",style:{backgroundColor:"#E2EDF3"}},r.a.createElement(ct.a,{className:t},o),r.a.createElement(R.a,{style:{marginTop:"10px",marginBottom:"10px"}},r.a.createElement(F.a,{xs:"9",md:"9",sm:"8"},r.a.createElement(V.a,{id:"textarea",onKeyPress:function(t){console.log(t.target.value),"13"==t.charCode&&(console.log("enter"),e.sendMsg())},disabled:!this.state.enabled,onChange:function(t){return e.setState({messageController:t.target.value})},placeholder:"write a message",style:{width:"100%"},value:this.state.messageController})),r.a.createElement(F.a,{xs:"3",md:"3",sm:"4"},r.a.createElement(le.a,{style:{width:"100%"},onClick:this.sendMsg.bind(this)},"SEND"))),r.a.createElement(R.a,null,r.a.createElement("div",{style:{margin:"10px"},id:"typing_on"}))),r.a.createElement(F.a,{xs:"3",sm:"3",style:{backgroundColor:"#000"}},r.a.createElement(ct.a,{className:t},r.a.createElement("h4",{style:{color:"white",marginTop:"10px"}},"ONLINE USERS"),s,r.a.createElement("h4",{style:{color:"white"}},"ALL USERS"),l)))))}}]),t}(n.Component),layout:"/admin"},{path:"/profile/:id",name:"Profile",icon:"",component:ke,layout:"/admin"},{path:"/mentor/:id",name:"MentorDetails",icon:"ni ni-bullet-list-67 text-red",component:Ke,layout:"/admin"},{path:"/mentor",name:"Mentor",icon:"ni ni-bullet-list-67 text-red",component:De,layout:"/admin"},{path:"/clubs/:id",name:"ClubDetails",icon:"ni ni-bullet-list-67 text-red",component:et,layout:"/admin"},{path:"/login",name:"Login",icon:"ni ni-key-25 text-info",component:we,layout:"/auth"},{path:"/register",name:"Register",icon:"ni ni-circle-08 text-pink",component:Ne,layout:"/auth"}],dt=function(e){function t(){var e;return Object(m.a)(this,t),(e=Object(p.a)(this,Object(g.a)(t).call(this))).getLoggedInRoutes=function(){return mt.filter(function(e){return"Login"!==e.name&&"Register"!==e.name&&"MentorDetails"!==e.name&&"ClubDetails"!==e.name})},e.getProperRoutes=function(){return"Guest"!==e.state.name?e.getLoggedInRoutes():mt.filter(function(e){return"MentorDetails"!==e.name&&"ClubDetails"!==e.name&&"User Profile"!==e.name&&"Notifications"!==e.name})},e.getRoutes=function(t){return t.map(function(t,a){return"/admin"===t.layout?r.a.createElement(i.a,{path:t.layout+t.path,render:function(a){return r.a.createElement(t.component,Object.assign({},a,{email:e.state.email,name:e.state.name}))},key:a}):null})},e.getBrandText=function(t){for(var a=0;a<mt.length;a++)if(-1!==e.props.location.pathname.indexOf(mt[a].layout+mt[a].path))return mt[a].name;return"Brand"},e.state={email:"",name:"Guest"},e}return Object(h.a)(t,e),Object(d.a)(t,[{key:"componentWillMount",value:function(){var e=this,t=localStorage.getItem("token");if(void 0===t)return console.log("No JWT token found!"),void(window.location="/auth/login");console.log(t),S.a.get("/api/auth/checkToken",{headers:{Authorization:t}}).then(function(t){if(200!==t.status)throw window.location="/auth/login",console.log(t.error),new Error(t.error);var a=t.data;console.log(a),localStorage.setItem("username",a.name),e.setState({email:a.email,name:a.name})}).catch(function(t){e.setState({email:"Guest"}),window.location="/auth/login"})}},{key:"componentDidUpdate",value:function(e){document.documentElement.scrollTop=0,document.scrollingElement.scrollTop=0,this.refs.mainContent.scrollTop=0}},{key:"render",value:function(){return r.a.createElement("div",{style:{height:"100%"}},r.a.createElement(Z,Object.assign({},this.props,{routes:this.getProperRoutes(),logo:{innerLink:"/admin/index",imgSrc:"https://imagesforcloudmates.s3.amazonaws.com/cmlogooo.png",imgAlt:"..."}})),r.a.createElement("div",{className:"main-content",ref:"mainContent"},r.a.createElement(P,Object.assign({},this.props,{brandText:this.getBrandText(this.props.location.pathname),email:this.state.email,name:this.state.name})),r.a.createElement(c.a,null,this.getRoutes(mt)),r.a.createElement(f.a,{fluid:!0},r.a.createElement(B,null))))}}]),t}(r.a.Component),pt=function(e){function t(){var e,a;Object(m.a)(this,t);for(var n=arguments.length,o=new Array(n),l=0;l<n;l++)o[l]=arguments[l];return(a=Object(p.a)(this,(e=Object(g.a)(t)).call.apply(e,[this].concat(o)))).getRoutes=function(e){return console.log(e),e.map(function(e,t){return"/auth"===e.layout?(console.log(e.layout," ",e.path),r.a.createElement(i.a,{path:e.layout+e.path,component:e.component,key:t})):null})},a}return Object(h.a)(t,e),Object(d.a)(t,[{key:"componentDidMount",value:function(){document.body.classList.add("bg-default")}},{key:"componentWillUnmount",value:function(){document.body.classList.remove("bg-default")}},{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"main-content"},r.a.createElement("div",{className:"header py-7 py-lg-8",style:{backgroundImage:"url(https://faria-managebac-prod-app-assets.s3.ca-central-1.amazonaws.com/uploads/school/login_background/10002498/optimized_UCC-Aerial-0032-FINAL.jpg), url(https://faria-managebac-prod-app-assets.s3.ca-central-1.amazonaws.com/uploads/school/login_background/10002498/optimized_tiny_UCC-Aerial-0032-FINAL.jpg)"}},r.a.createElement(f.a,null,r.a.createElement("div",{className:"header-body text-center mb-7"},r.a.createElement(R.a,{className:"justify-content-center"},r.a.createElement(F.a,{lg:"5",md:"6"},r.a.createElement("h1",{className:"text-white"},"Welcome to UCC CloudMates!"),r.a.createElement("p",{className:"text-lead text-darker"},r.a.createElement("b",null," Login in to UCC CloudMates here using your UCC Email and account password.")))))),r.a.createElement("div",{className:"separator separator-bottom separator-skew zindex-100"},r.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",preserveAspectRatio:"none",version:"1.1",viewBox:"0 0 2560 100",x:"0",y:"0"},r.a.createElement("polygon",{className:"fill-default",points:"2560 0 2560 100 0 100"})))),r.a.createElement(f.a,{style:{marginTop:"100px"},className:"mt-8 pb-5"},r.a.createElement(R.a,{className:"justify-content-center"},r.a.createElement(c.a,null,this.getRoutes(mt))))))}}]),t}(r.a.Component);a(537);M.initializeApp({apiKey:"AIzaSyCpshjn88VZBl65UrCzdwJJ76cginLshlE",authDomain:"cloudmates.firebaseapp.com",databaseURL:"https://cloudmates.firebaseio.com/",projectId:"cloudmates",storageBucket:"cloudmates.appspot.com",messagingSenderId:"944216554117",appId:"1:944216554117:web:0b75dc550b552694cd47ec",measurementId:"G-VHDYENG384"}),M.analytics(),l.a.render(r.a.createElement(s.a,null,r.a.createElement(c.a,null,r.a.createElement(i.a,{path:"/admin",render:function(e){return r.a.createElement(dt,e)}}),r.a.createElement(i.a,{path:"/auth",render:function(e){return r.a.createElement(pt,e)}}),r.a.createElement(u.a,{from:"/",to:"/admin/index"}))),document.getElementById("root"))},232:function(e,t,a){},301:function(e,t,a){var n=a(293);n.elements.Rectangle.prototype.draw=function(){var e,t,a,n,r,o,l,s=this._chart.ctx,c=this._view,i=c.borderWidth;if(c.horizontal?(e=c.base,t=c.x,a=c.y-c.height/2,n=c.y+c.height/2,r=t>e?1:-1,o=1,l=c.borderSkipped||"left"):(e=c.x-c.width/2,t=c.x+c.width/2,a=c.y,r=1,o=(n=c.base)>a?1:-1,l=c.borderSkipped||"bottom"),i){var u=Math.min(Math.abs(e-t),Math.abs(a-n)),m=(i=i>u?u:i)/2,d=e+("left"!==l?m*r:0),p=t+("right"!==l?-m*r:0),g=a+("top"!==l?m*o:0),h=n+("bottom"!==l?-m*o:0);d!==p&&(a=g,n=h),g!==h&&(e=d,t=p)}s.beginPath(),s.fillStyle=c.backgroundColor,s.strokeStyle=c.borderColor,s.lineWidth=i;var f=[[e,n],[e,a],[t,a],[t,n]],E=["bottom","left","top","right"].indexOf(l,0);function v(e){return f[(E+e)%4]}-1===E&&(E=0);var b=v(0);s.moveTo(b[0],b[1]);for(var y=1;y<4;y++){b=v(y);var S=y+1;4===S&&(S=0);var k,N=f[2][0]-f[1][0],C=f[0][1]-f[1][1],w=f[1][0],x=f[1][1];(k=6)>C/2&&(k=C/2),k>N/2&&(k=N/2),s.moveTo(w+k,x),s.lineTo(w+N-k,x),s.quadraticCurveTo(w+N,x,w+N,x+k),s.lineTo(w+N,x+C-k),s.quadraticCurveTo(w+N,x+C,w+N-k,x+C),s.lineTo(w+k,x+C),s.quadraticCurveTo(w,x+C,w,x+C-k),s.lineTo(w,x+k),s.quadraticCurveTo(w,x,w+k,x)}s.fill(),i&&s.stroke()};var r="light",o={base:"Open Sans"},l={gray:{100:"#f6f9fc",200:"#e9ecef",300:"#dee2e6",400:"#ced4da",500:"#adb5bd",600:"#8898aa",700:"#525f7f",800:"#32325d",900:"#212529"},theme:{default:"#172b4d",primary:"#5e72e4",secondary:"#f4f5f7",info:"#11cdef",success:"#2dce89",danger:"#f5365c",warning:"#fb6340"},black:"#12263F",white:"#FFFFFF",transparent:"transparent"};var s={options:{scales:{yAxes:[{gridLines:{color:l.gray[900],zeroLineColor:l.gray[900]},ticks:{callback:function(e){if(!(e%10))return"$"+e+"k"}}}]},tooltips:{callbacks:{label:function(e,t){var a=t.datasets[e.datasetIndex].label||"",n=e.yLabel,r="";return t.datasets.length>1&&(r+=a),r+="$"+n+"k"}}}},data1:function(e){return{labels:["May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],datasets:[{label:"Performance",data:[0,20,10,30,15,40,20,60,60]}]}},data2:function(e){return{labels:["May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],datasets:[{label:"Performance",data:[0,20,5,25,10,30,15,40,40]}]}}};e.exports={chartOptions:function(){var e={defaults:{global:{responsive:!0,maintainAspectRatio:!1,defaultColor:"dark"===r?l.gray[700]:l.gray[600],defaultFontColor:"dark"===r?l.gray[700]:l.gray[600],defaultFontFamily:o.base,defaultFontSize:13,layout:{padding:0},legend:{display:!1,position:"bottom",labels:{usePointStyle:!0,padding:16}},elements:{point:{radius:0,backgroundColor:l.theme.primary},line:{tension:.4,borderWidth:4,borderColor:l.theme.primary,backgroundColor:l.transparent,borderCapStyle:"rounded"},rectangle:{backgroundColor:l.theme.warning},arc:{backgroundColor:l.theme.primary,borderColor:"dark"===r?l.gray[800]:l.white,borderWidth:4}},tooltips:{enabled:!0,mode:"index",intersect:!1}},doughnut:{cutoutPercentage:83,legendCallback:function(e){var t=e.data,a="";return t.labels.forEach(function(e,n){var r=t.datasets[0].backgroundColor[n];a+='<span class="chart-legend-item">',a+='<i class="chart-legend-indicator" style="background-color: '+r+'"></i>',a+=e,a+="</span>"}),a}}}};return n.scaleService.updateScaleDefaults("linear",{gridLines:{borderDash:[2],borderDashOffset:[2],color:"dark"===r?l.gray[900]:l.gray[300],drawBorder:!1,drawTicks:!1,lineWidth:0,zeroLineWidth:0,zeroLineColor:"dark"===r?l.gray[900]:l.gray[300],zeroLineBorderDash:[2],zeroLineBorderDashOffset:[2]},ticks:{beginAtZero:!0,padding:10,callback:function(e){if(!(e%10))return e}}}),n.scaleService.updateScaleDefaults("category",{gridLines:{drawBorder:!1,drawOnChartArea:!1,drawTicks:!1},ticks:{padding:20},maxBarThickness:10}),e},parseOptions:function e(t,a){for(var n in a)"object"!==typeof a[n]?t[n]=a[n]:e(t[n],a[n])},chartExample1:s,chartExample2:{options:{scales:{yAxes:[{ticks:{callback:function(e){if(!(e%10))return e}}}]},tooltips:{callbacks:{label:function(e,t){var a=t.datasets[e.datasetIndex].label||"",n=e.yLabel,r="";return t.datasets.length>1&&(r+=a),r+=n}}}},data:{labels:["Jul","Aug","Sep","Oct","Nov","Dec"],datasets:[{label:"Sales",data:[25,20,30,22,17,29]}]}}}},413:function(e,t,a){},529:function(e,t,a){e.exports=a(1066)},534:function(e,t,a){},535:function(e,t,a){},536:function(e,t,a){},711:function(e,t,a){},816:function(e,t,a){},901:function(e,t){},902:function(e,t){},903:function(e,t){},907:function(e,t){},909:function(e,t){},941:function(e,t){},942:function(e,t){},993:function(e,t){function a(e){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}a.keys=function(){return[]},a.resolve=a,e.exports=a,a.id=993},994:function(e,t,a){}},[[529,1,2]]]);
//# sourceMappingURL=main.ca8b2d70.chunk.js.map